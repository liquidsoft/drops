{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/d/auto-bind.js","node_modules/d/index.js","node_modules/es5-ext/array/#/clear.js","node_modules/es5-ext/function/is-arguments.js","node_modules/es5-ext/object/_iterate.js","node_modules/es5-ext/object/assign/index.js","node_modules/es5-ext/object/assign/is-implemented.js","node_modules/es5-ext/object/assign/shim.js","node_modules/es5-ext/object/copy.js","node_modules/es5-ext/object/create.js","node_modules/es5-ext/object/for-each.js","node_modules/es5-ext/object/is-callable.js","node_modules/es5-ext/object/is-object.js","node_modules/es5-ext/object/keys/index.js","node_modules/es5-ext/object/keys/is-implemented.js","node_modules/es5-ext/object/keys/shim.js","node_modules/es5-ext/object/map.js","node_modules/es5-ext/object/normalize-options.js","node_modules/es5-ext/object/set-prototype-of/index.js","node_modules/es5-ext/object/set-prototype-of/is-implemented.js","node_modules/es5-ext/object/set-prototype-of/shim.js","node_modules/es5-ext/object/valid-callable.js","node_modules/es5-ext/object/valid-object.js","node_modules/es5-ext/object/valid-value.js","node_modules/es5-ext/string/#/contains/index.js","node_modules/es5-ext/string/#/contains/is-implemented.js","node_modules/es5-ext/string/#/contains/shim.js","node_modules/es5-ext/string/is-string.js","node_modules/es5-ext/string/random-uniq.js","node_modules/es6-iterator/array.js","node_modules/es6-iterator/for-of.js","node_modules/es6-iterator/get.js","node_modules/es6-iterator/index.js","node_modules/es6-iterator/is-iterable.js","node_modules/es6-iterator/string.js","node_modules/es6-iterator/valid-iterable.js","node_modules/es6-symbol/index.js","node_modules/es6-symbol/is-implemented.js","node_modules/es6-symbol/is-symbol.js","node_modules/es6-symbol/polyfill.js","node_modules/es6-symbol/validate-symbol.js","node_modules/es6-weak-map/index.js","node_modules/es6-weak-map/is-implemented.js","node_modules/es6-weak-map/is-native-implemented.js","node_modules/es6-weak-map/polyfill.js","node_modules/object-assign/index.js","src/js/Field.js","src/js/Select.js","src/js/src/js/index.js","src/js/manager.js","src/js/symbols.js","src/js/utils.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;qjBC1FA;;;;;;;;;AASA;;;;AACA;;IAAY,O;;AACZ;;;;;;;;IAEqB,K;;AAEjB;;;;;;AAOA,mBAAY,KAAZ,EAAiC;AAAA,YAAd,OAAc,uEAAJ,EAAI;;AAAA;;AAC7B,aAAK,QAAL,GAAgB,EAAhB;AACA,aAAK,QAAL,CAAc,KAAd,GAAsB,KAAtB;;AAEA;AACA,aAAK,QAAQ,iBAAb,EAAgC,OAAhC;AACA,aAAK,QAAQ,cAAb;AACA,aAAK,QAAQ,eAAb;AACA,aAAK,QAAQ,gBAAb;AACH;;;aAEA,QAAQ,iB;8BAAmB,O,EAAS;AACjC,iBAAK,OAAL,GAAe,4BAAO;AAClB,6BAAa,KAAK,QAAL,CAAc,KAAd,CAAoB,WAApB,IAAmC,EAD9B;;AAGlB,4BAHkB,wBAGL,KAHK,EAGE,KAHF,EAGS;AACvB,2BAAO,KAAP;AACH,iBALiB;AAOlB,8BAPkB,0BAOH,KAPG,EAOI,WAPJ,EAOiB;AAC/B,2BAAO,WAAP;AACH,iBATiB;AAWlB,wBAXkB,oBAWT,KAXS,EAW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","file":"drops.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nvar copy             = require('es5-ext/object/copy')\n  , normalizeOptions = require('es5-ext/object/normalize-options')\n  , ensureCallable   = require('es5-ext/object/valid-callable')\n  , map              = require('es5-ext/object/map')\n  , callable         = require('es5-ext/object/valid-callable')\n  , validValue       = require('es5-ext/object/valid-value')\n\n  , bind = Function.prototype.bind, defineProperty = Object.defineProperty\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , define;\n\ndefine = function (name, desc, options) {\n\tvar value = validValue(desc) && callable(desc.value), dgs;\n\tdgs = copy(desc);\n\tdelete dgs.writable;\n\tdelete dgs.value;\n\tdgs.get = function () {\n\t\tif (!options.overwriteDefinition && hasOwnProperty.call(this, name)) return value;\n\t\tdesc.value = bind.call(value, options.resolveContext ? options.resolveContext(this) : this);\n\t\tdefineProperty(this, name, desc);\n\t\treturn this[name];\n\t};\n\treturn dgs;\n};\n\nmodule.exports = function (props/*, options*/) {\n\tvar options = normalizeOptions(arguments[1]);\n\tif (options.resolveContext != null) ensureCallable(options.resolveContext);\n\treturn map(props, function (desc, name) { return define(name, desc, options); });\n};\n","'use strict';\n\nvar assign        = require('es5-ext/object/assign')\n  , normalizeOpts = require('es5-ext/object/normalize-options')\n  , isCallable    = require('es5-ext/object/is-callable')\n  , contains      = require('es5-ext/string/#/contains')\n\n  , d;\n\nd = module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif ((arguments.length < 2) || (typeof dscr !== 'string')) {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (dscr == null) {\n\t\tc = w = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t\tw = contains.call(dscr, 'w');\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== 'string') {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (get == null) {\n\t\tget = undefined;\n\t} else if (!isCallable(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (set == null) {\n\t\tset = undefined;\n\t} else if (!isCallable(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (dscr == null) {\n\t\tc = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","// Inspired by Google Closure:\n// http://closure-library.googlecode.com/svn/docs/\n// closure_goog_array_array.js.html#goog.array.clear\n\n'use strict';\n\nvar value = require('../../object/valid-value');\n\nmodule.exports = function () {\n\tvalue(this).length = 0;\n\treturn this;\n};\n","'use strict';\n\nvar toString = Object.prototype.toString\n\n  , id = toString.call((function () { return arguments; }()));\n\nmodule.exports = function (x) { return (toString.call(x) === id); };\n","// Internal method, used by iteration functions.\n// Calls a function for each key-value pair found in object\n// Optionally takes compareFn to iterate object in specific order\n\n'use strict';\n\nvar callable = require('./valid-callable')\n  , value    = require('./valid-value')\n\n  , bind = Function.prototype.bind, call = Function.prototype.call, keys = Object.keys\n  , propertyIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nmodule.exports = function (method, defVal) {\n\treturn function (obj, cb/*, thisArg, compareFn*/) {\n\t\tvar list, thisArg = arguments[2], compareFn = arguments[3];\n\t\tobj = Object(value(obj));\n\t\tcallable(cb);\n\n\t\tlist = keys(obj);\n\t\tif (compareFn) {\n\t\t\tlist.sort((typeof compareFn === 'function') ? bind.call(compareFn, obj) : undefined);\n\t\t}\n\t\tif (typeof method !== 'function') method = list[method];\n\t\treturn call.call(method, list, function (key, index) {\n\t\t\tif (!propertyIsEnumerable.call(obj, key)) return defVal;\n\t\t\treturn call.call(cb, thisArg, obj[key], key, obj, index);\n\t\t});\n\t};\n};\n","'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? Object.assign\n\t: require('./shim');\n","'use strict';\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== 'function') return false;\n\tobj = { foo: 'raz' };\n\tassign(obj, { bar: 'dwa' }, { trzy: 'trzy' });\n\treturn (obj.foo + obj.bar + obj.trzy) === 'razdwatrzy';\n};\n","'use strict';\n\nvar keys  = require('../keys')\n  , value = require('../valid-value')\n\n  , max = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, l = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry { dest[key] = src[key]; } catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < l; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","'use strict';\n\nvar assign = require('./assign')\n  , value  = require('./valid-value');\n\nmodule.exports = function (obj) {\n\tvar copy = Object(value(obj));\n\tif (copy !== obj) return copy;\n\treturn assign({}, obj);\n};\n","// Workaround for http://code.google.com/p/v8/issues/detail?id=2804\n\n'use strict';\n\nvar create = Object.create, shim;\n\nif (!require('./set-prototype-of/is-implemented')()) {\n\tshim = require('./set-prototype-of/shim');\n}\n\nmodule.exports = (function () {\n\tvar nullObject, props, desc;\n\tif (!shim) return create;\n\tif (shim.level !== 1) return create;\n\n\tnullObject = {};\n\tprops = {};\n\tdesc = { configurable: false, enumerable: false, writable: true,\n\t\tvalue: undefined };\n\tObject.getOwnPropertyNames(Object.prototype).forEach(function (name) {\n\t\tif (name === '__proto__') {\n\t\t\tprops[name] = { configurable: true, enumerable: false, writable: true,\n\t\t\t\tvalue: undefined };\n\t\t\treturn;\n\t\t}\n\t\tprops[name] = desc;\n\t});\n\tObject.defineProperties(nullObject, props);\n\n\tObject.defineProperty(shim, 'nullPolyfill', { configurable: false,\n\t\tenumerable: false, writable: false, value: nullObject });\n\n\treturn function (prototype, props) {\n\t\treturn create((prototype === null) ? nullObject : prototype, props);\n\t};\n}());\n","'use strict';\n\nmodule.exports = require('./_iterate')('forEach');\n","// Deprecated\n\n'use strict';\n\nmodule.exports = function (obj) { return typeof obj === 'function'; };\n","'use strict';\n\nvar map = { 'function': true, object: true };\n\nmodule.exports = function (x) {\n\treturn ((x != null) && map[typeof x]) || false;\n};\n","'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? Object.keys\n\t: require('./shim');\n","'use strict';\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys('primitive');\n\t\treturn true;\n\t} catch (e) { return false; }\n};\n","'use strict';\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) {\n\treturn keys(object == null ? object : Object(object));\n};\n","'use strict';\n\nvar callable = require('./valid-callable')\n  , forEach  = require('./for-each')\n\n  , call = Function.prototype.call;\n\nmodule.exports = function (obj, cb/*, thisArg*/) {\n\tvar o = {}, thisArg = arguments[2];\n\tcallable(cb);\n\tforEach(obj, function (value, key, obj, index) {\n\t\to[key] = call.call(cb, thisArg, value, key, obj, index);\n\t});\n\treturn o;\n};\n","'use strict';\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\nmodule.exports = function (options/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (options == null) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? Object.setPrototypeOf\n\t: require('./shim');\n","'use strict';\n\nvar create = Object.create, getPrototypeOf = Object.getPrototypeOf\n  , x = {};\n\nmodule.exports = function (/*customCreate*/) {\n\tvar setPrototypeOf = Object.setPrototypeOf\n\t  , customCreate = arguments[0] || create;\n\tif (typeof setPrototypeOf !== 'function') return false;\n\treturn getPrototypeOf(setPrototypeOf(customCreate(null), x)) === x;\n};\n","// Big thanks to @WebReflection for sorting this out\n// https://gist.github.com/WebReflection/5593554\n\n'use strict';\n\nvar isObject      = require('../is-object')\n  , value         = require('../valid-value')\n\n  , isPrototypeOf = Object.prototype.isPrototypeOf\n  , defineProperty = Object.defineProperty\n  , nullDesc = { configurable: true, enumerable: false, writable: true,\n\t\tvalue: undefined }\n  , validate;\n\nvalidate = function (obj, prototype) {\n\tvalue(obj);\n\tif ((prototype === null) || isObject(prototype)) return obj;\n\tthrow new TypeError('Prototype must be null or an object');\n};\n\nmodule.exports = (function (status) {\n\tvar fn, set;\n\tif (!status) return null;\n\tif (status.level === 2) {\n\t\tif (status.set) {\n\t\t\tset = status.set;\n\t\t\tfn = function (obj, prototype) {\n\t\t\t\tset.call(validate(obj, prototype), prototype);\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t} else {\n\t\t\tfn = function (obj, prototype) {\n\t\t\t\tvalidate(obj, prototype).__proto__ = prototype;\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t}\n\t} else {\n\t\tfn = function self(obj, prototype) {\n\t\t\tvar isNullBase;\n\t\t\tvalidate(obj, prototype);\n\t\t\tisNullBase = isPrototypeOf.call(self.nullPolyfill, obj);\n\t\t\tif (isNullBase) delete self.nullPolyfill.__proto__;\n\t\t\tif (prototype === null) prototype = self.nullPolyfill;\n\t\t\tobj.__proto__ = prototype;\n\t\t\tif (isNullBase) defineProperty(self.nullPolyfill, '__proto__', nullDesc);\n\t\t\treturn obj;\n\t\t};\n\t}\n\treturn Object.defineProperty(fn, 'level', { configurable: false,\n\t\tenumerable: false, writable: false, value: status.level });\n}((function () {\n\tvar x = Object.create(null), y = {}, set\n\t  , desc = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__');\n\n\tif (desc) {\n\t\ttry {\n\t\t\tset = desc.set; // Opera crashes at this point\n\t\t\tset.call(x, y);\n\t\t} catch (ignore) { }\n\t\tif (Object.getPrototypeOf(x) === y) return { set: set, level: 2 };\n\t}\n\n\tx.__proto__ = y;\n\tif (Object.getPrototypeOf(x) === y) return { level: 2 };\n\n\tx = {};\n\tx.__proto__ = y;\n\tif (Object.getPrototypeOf(x) === y) return { level: 1 };\n\n\treturn false;\n}())));\n\nrequire('../create');\n","'use strict';\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar isObject = require('./is-object');\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","'use strict';\n\nmodule.exports = function (value) {\n\tif (value == null) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? String.prototype.contains\n\t: require('./shim');\n","'use strict';\n\nvar str = 'razdwatrzy';\n\nmodule.exports = function () {\n\tif (typeof str.contains !== 'function') return false;\n\treturn ((str.contains('dwa') === true) && (str.contains('foo') === false));\n};\n","'use strict';\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","'use strict';\n\nvar toString = Object.prototype.toString\n\n  , id = toString.call('');\n\nmodule.exports = function (x) {\n\treturn (typeof x === 'string') || (x && (typeof x === 'object') &&\n\t\t((x instanceof String) || (toString.call(x) === id))) || false;\n};\n","'use strict';\n\nvar generated = Object.create(null)\n\n  , random = Math.random;\n\nmodule.exports = function () {\n\tvar str;\n\tdo { str = random().toString(36).slice(2); } while (generated[str]);\n\treturn str;\n};\n","'use strict';\n\nvar setPrototypeOf = require('es5-ext/object/set-prototype-of')\n  , contains       = require('es5-ext/string/#/contains')\n  , d              = require('d')\n  , Iterator       = require('./')\n\n  , defineProperty = Object.defineProperty\n  , ArrayIterator;\n\nArrayIterator = module.exports = function (arr, kind) {\n\tif (!(this instanceof ArrayIterator)) return new ArrayIterator(arr, kind);\n\tIterator.call(this, arr);\n\tif (!kind) kind = 'value';\n\telse if (contains.call(kind, 'key+value')) kind = 'key+value';\n\telse if (contains.call(kind, 'key')) kind = 'key';\n\telse kind = 'value';\n\tdefineProperty(this, '__kind__', d('', kind));\n};\nif (setPrototypeOf) setPrototypeOf(ArrayIterator, Iterator);\n\nArrayIterator.prototype = Object.create(Iterator.prototype, {\n\tconstructor: d(ArrayIterator),\n\t_resolve: d(function (i) {\n\t\tif (this.__kind__ === 'value') return this.__list__[i];\n\t\tif (this.__kind__ === 'key+value') return [i, this.__list__[i]];\n\t\treturn i;\n\t}),\n\ttoString: d(function () { return '[object Array Iterator]'; })\n});\n","'use strict';\n\nvar isArguments = require('es5-ext/function/is-arguments')\n  , callable    = require('es5-ext/object/valid-callable')\n  , isString    = require('es5-ext/string/is-string')\n  , get         = require('./get')\n\n  , isArray = Array.isArray, call = Function.prototype.call\n  , some = Array.prototype.some;\n\nmodule.exports = function (iterable, cb/*, thisArg*/) {\n\tvar mode, thisArg = arguments[2], result, doBreak, broken, i, l, char, code;\n\tif (isArray(iterable) || isArguments(iterable)) mode = 'array';\n\telse if (isString(iterable)) mode = 'string';\n\telse iterable = get(iterable);\n\n\tcallable(cb);\n\tdoBreak = function () { broken = true; };\n\tif (mode === 'array') {\n\t\tsome.call(iterable, function (value) {\n\t\t\tcall.call(cb, thisArg, value, doBreak);\n\t\t\tif (broken) return true;\n\t\t});\n\t\treturn;\n\t}\n\tif (mode === 'string') {\n\t\tl = iterable.length;\n\t\tfor (i = 0; i < l; ++i) {\n\t\t\tchar = iterable[i];\n\t\t\tif ((i + 1) < l) {\n\t\t\t\tcode = char.charCodeAt(0);\n\t\t\t\tif ((code >= 0xD800) && (code <= 0xDBFF)) char += iterable[++i];\n\t\t\t}\n\t\t\tcall.call(cb, thisArg, char, doBreak);\n\t\t\tif (broken) break;\n\t\t}\n\t\treturn;\n\t}\n\tresult = iterable.next();\n\n\twhile (!result.done) {\n\t\tcall.call(cb, thisArg, result.value, doBreak);\n\t\tif (broken) return;\n\t\tresult = iterable.next();\n\t}\n};\n","'use strict';\n\nvar isArguments    = require('es5-ext/function/is-arguments')\n  , isString       = require('es5-ext/string/is-string')\n  , ArrayIterator  = require('./array')\n  , StringIterator = require('./string')\n  , iterable       = require('./valid-iterable')\n  , iteratorSymbol = require('es6-symbol').iterator;\n\nmodule.exports = function (obj) {\n\tif (typeof iterable(obj)[iteratorSymbol] === 'function') return obj[iteratorSymbol]();\n\tif (isArguments(obj)) return new ArrayIterator(obj);\n\tif (isString(obj)) return new StringIterator(obj);\n\treturn new ArrayIterator(obj);\n};\n","'use strict';\n\nvar clear    = require('es5-ext/array/#/clear')\n  , assign   = require('es5-ext/object/assign')\n  , callable = require('es5-ext/object/valid-callable')\n  , value    = require('es5-ext/object/valid-value')\n  , d        = require('d')\n  , autoBind = require('d/auto-bind')\n  , Symbol   = require('es6-symbol')\n\n  , defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , Iterator;\n\nmodule.exports = Iterator = function (list, context) {\n\tif (!(this instanceof Iterator)) return new Iterator(list, context);\n\tdefineProperties(this, {\n\t\t__list__: d('w', value(list)),\n\t\t__context__: d('w', context),\n\t\t__nextIndex__: d('w', 0)\n\t});\n\tif (!context) return;\n\tcallable(context.on);\n\tcontext.on('_add', this._onAdd);\n\tcontext.on('_delete', this._onDelete);\n\tcontext.on('_clear', this._onClear);\n};\n\ndefineProperties(Iterator.prototype, assign({\n\tconstructor: d(Iterator),\n\t_next: d(function () {\n\t\tvar i;\n\t\tif (!this.__list__) return;\n\t\tif (this.__redo__) {\n\t\t\ti = this.__redo__.shift();\n\t\t\tif (i !== undefined) return i;\n\t\t}\n\t\tif (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;\n\t\tthis._unBind();\n\t}),\n\tnext: d(function () { return this._createResult(this._next()); }),\n\t_createResult: d(function (i) {\n\t\tif (i === undefined) return { done: true, value: undefined };\n\t\treturn { done: false, value: this._resolve(i) };\n\t}),\n\t_resolve: d(function (i) { return this.__list__[i]; }),\n\t_unBind: d(function () {\n\t\tthis.__list__ = null;\n\t\tdelete this.__redo__;\n\t\tif (!this.__context__) return;\n\t\tthis.__context__.off('_add', this._onAdd);\n\t\tthis.__context__.off('_delete', this._onDelete);\n\t\tthis.__context__.off('_clear', this._onClear);\n\t\tthis.__context__ = null;\n\t}),\n\ttoString: d(function () { return '[object Iterator]'; })\n}, autoBind({\n\t_onAdd: d(function (index) {\n\t\tif (index >= this.__nextIndex__) return;\n\t\t++this.__nextIndex__;\n\t\tif (!this.__redo__) {\n\t\t\tdefineProperty(this, '__redo__', d('c', [index]));\n\t\t\treturn;\n\t\t}\n\t\tthis.__redo__.forEach(function (redo, i) {\n\t\t\tif (redo >= index) this.__redo__[i] = ++redo;\n\t\t}, this);\n\t\tthis.__redo__.push(index);\n\t}),\n\t_onDelete: d(function (index) {\n\t\tvar i;\n\t\tif (index >= this.__nextIndex__) return;\n\t\t--this.__nextIndex__;\n\t\tif (!this.__redo__) return;\n\t\ti = this.__redo__.indexOf(index);\n\t\tif (i !== -1) this.__redo__.splice(i, 1);\n\t\tthis.__redo__.forEach(function (redo, i) {\n\t\t\tif (redo > index) this.__redo__[i] = --redo;\n\t\t}, this);\n\t}),\n\t_onClear: d(function () {\n\t\tif (this.__redo__) clear.call(this.__redo__);\n\t\tthis.__nextIndex__ = 0;\n\t})\n})));\n\ndefineProperty(Iterator.prototype, Symbol.iterator, d(function () {\n\treturn this;\n}));\ndefineProperty(Iterator.prototype, Symbol.toStringTag, d('', 'Iterator'));\n","'use strict';\n\nvar isArguments    = require('es5-ext/function/is-arguments')\n  , isString       = require('es5-ext/string/is-string')\n  , iteratorSymbol = require('es6-symbol').iterator\n\n  , isArray = Array.isArray;\n\nmodule.exports = function (value) {\n\tif (value == null) return false;\n\tif (isArray(value)) return true;\n\tif (isString(value)) return true;\n\tif (isArguments(value)) return true;\n\treturn (typeof value[iteratorSymbol] === 'function');\n};\n","// Thanks @mathiasbynens\n// http://mathiasbynens.be/notes/javascript-unicode#iterating-over-symbols\n\n'use strict';\n\nvar setPrototypeOf = require('es5-ext/object/set-prototype-of')\n  , d              = require('d')\n  , Iterator       = require('./')\n\n  , defineProperty = Object.defineProperty\n  , StringIterator;\n\nStringIterator = module.exports = function (str) {\n\tif (!(this instanceof StringIterator)) return new StringIterator(str);\n\tstr = String(str);\n\tIterator.call(this, str);\n\tdefineProperty(this, '__length__', d('', str.length));\n\n};\nif (setPrototypeOf) setPrototypeOf(StringIterator, Iterator);\n\nStringIterator.prototype = Object.create(Iterator.prototype, {\n\tconstructor: d(StringIterator),\n\t_next: d(function () {\n\t\tif (!this.__list__) return;\n\t\tif (this.__nextIndex__ < this.__length__) return this.__nextIndex__++;\n\t\tthis._unBind();\n\t}),\n\t_resolve: d(function (i) {\n\t\tvar char = this.__list__[i], code;\n\t\tif (this.__nextIndex__ === this.__length__) return char;\n\t\tcode = char.charCodeAt(0);\n\t\tif ((code >= 0xD800) && (code <= 0xDBFF)) return char + this.__list__[this.__nextIndex__++];\n\t\treturn char;\n\t}),\n\ttoString: d(function () { return '[object String Iterator]'; })\n});\n","'use strict';\n\nvar isIterable = require('./is-iterable');\n\nmodule.exports = function (value) {\n\tif (!isIterable(value)) throw new TypeError(value + \" is not iterable\");\n\treturn value;\n};\n","'use strict';\n\nmodule.exports = require('./is-implemented')() ? Symbol : require('./polyfill');\n","'use strict';\n\nvar validTypes = { object: true, symbol: true };\n\nmodule.exports = function () {\n\tvar symbol;\n\tif (typeof Symbol !== 'function') return false;\n\tsymbol = Symbol('test symbol');\n\ttry { String(symbol); } catch (e) { return false; }\n\n\t// Return 'true' also for polyfills\n\tif (!validTypes[typeof Symbol.iterator]) return false;\n\tif (!validTypes[typeof Symbol.toPrimitive]) return false;\n\tif (!validTypes[typeof Symbol.toStringTag]) return false;\n\n\treturn true;\n};\n","'use strict';\n\nmodule.exports = function (x) {\n\tif (!x) return false;\n\tif (typeof x === 'symbol') return true;\n\tif (!x.constructor) return false;\n\tif (x.constructor.name !== 'Symbol') return false;\n\treturn (x[x.constructor.toStringTag] === 'Symbol');\n};\n","// ES2015 Symbol polyfill for environments that do not (or partially) support it\n\n'use strict';\n\nvar d              = require('d')\n  , validateSymbol = require('./validate-symbol')\n\n  , create = Object.create, defineProperties = Object.defineProperties\n  , defineProperty = Object.defineProperty, objPrototype = Object.prototype\n  , NativeSymbol, SymbolPolyfill, HiddenSymbol, globalSymbols = create(null)\n  , isNativeSafe;\n\nif (typeof Symbol === 'function') {\n\tNativeSymbol = Symbol;\n\ttry {\n\t\tString(NativeSymbol());\n\t\tisNativeSafe = true;\n\t} catch (ignore) {}\n}\n\nvar generateName = (function () {\n\tvar created = create(null);\n\treturn function (desc) {\n\t\tvar postfix = 0, name, ie11BugWorkaround;\n\t\twhile (created[desc + (postfix || '')]) ++postfix;\n\t\tdesc += (postfix || '');\n\t\tcreated[desc] = true;\n\t\tname = '@@' + desc;\n\t\tdefineProperty(objPrototype, name, d.gs(null, function (value) {\n\t\t\t// For IE11 issue see:\n\t\t\t// https://connect.microsoft.com/IE/feedbackdetail/view/1928508/\n\t\t\t//    ie11-broken-getters-on-dom-objects\n\t\t\t// https://github.com/medikoo/es6-symbol/issues/12\n\t\t\tif (ie11BugWorkaround) return;\n\t\t\tie11BugWorkaround = true;\n\t\t\tdefineProperty(this, name, d(value));\n\t\t\tie11BugWorkaround = false;\n\t\t}));\n\t\treturn name;\n\t};\n}());\n\n// Internal constructor (not one exposed) for creating Symbol instances.\n// This one is used to ensure that `someSymbol instanceof Symbol` always return false\nHiddenSymbol = function Symbol(description) {\n\tif (this instanceof HiddenSymbol) throw new TypeError('Symbol is not a constructor');\n\treturn SymbolPolyfill(description);\n};\n\n// Exposed `Symbol` constructor\n// (returns instances of HiddenSymbol)\nmodule.exports = SymbolPolyfill = function Symbol(description) {\n\tvar symbol;\n\tif (this instanceof Symbol) throw new TypeError('Symbol is not a constructor');\n\tif (isNativeSafe) return NativeSymbol(description);\n\tsymbol = create(HiddenSymbol.prototype);\n\tdescription = (description === undefined ? '' : String(description));\n\treturn defineProperties(symbol, {\n\t\t__description__: d('', description),\n\t\t__name__: d('', generateName(description))\n\t});\n};\ndefineProperties(SymbolPolyfill, {\n\tfor: d(function (key) {\n\t\tif (globalSymbols[key]) return globalSymbols[key];\n\t\treturn (globalSymbols[key] = SymbolPolyfill(String(key)));\n\t}),\n\tkeyFor: d(function (s) {\n\t\tvar key;\n\t\tvalidateSymbol(s);\n\t\tfor (key in globalSymbols) if (globalSymbols[key] === s) return key;\n\t}),\n\n\t// To ensure proper interoperability with other native functions (e.g. Array.from)\n\t// fallback to eventual native implementation of given symbol\n\thasInstance: d('', (NativeSymbol && NativeSymbol.hasInstance) || SymbolPolyfill('hasInstance')),\n\tisConcatSpreadable: d('', (NativeSymbol && NativeSymbol.isConcatSpreadable) ||\n\t\tSymbolPolyfill('isConcatSpreadable')),\n\titerator: d('', (NativeSymbol && NativeSymbol.iterator) || SymbolPolyfill('iterator')),\n\tmatch: d('', (NativeSymbol && NativeSymbol.match) || SymbolPolyfill('match')),\n\treplace: d('', (NativeSymbol && NativeSymbol.replace) || SymbolPolyfill('replace')),\n\tsearch: d('', (NativeSymbol && NativeSymbol.search) || SymbolPolyfill('search')),\n\tspecies: d('', (NativeSymbol && NativeSymbol.species) || SymbolPolyfill('species')),\n\tsplit: d('', (NativeSymbol && NativeSymbol.split) || SymbolPolyfill('split')),\n\ttoPrimitive: d('', (NativeSymbol && NativeSymbol.toPrimitive) || SymbolPolyfill('toPrimitive')),\n\ttoStringTag: d('', (NativeSymbol && NativeSymbol.toStringTag) || SymbolPolyfill('toStringTag')),\n\tunscopables: d('', (NativeSymbol && NativeSymbol.unscopables) || SymbolPolyfill('unscopables'))\n});\n\n// Internal tweaks for real symbol producer\ndefineProperties(HiddenSymbol.prototype, {\n\tconstructor: d(SymbolPolyfill),\n\ttoString: d('', function () { return this.__name__; })\n});\n\n// Proper implementation of methods exposed on Symbol.prototype\n// They won't be accessible on produced symbol instances as they derive from HiddenSymbol.prototype\ndefineProperties(SymbolPolyfill.prototype, {\n\ttoString: d(function () { return 'Symbol (' + validateSymbol(this).__description__ + ')'; }),\n\tvalueOf: d(function () { return validateSymbol(this); })\n});\ndefineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toPrimitive, d('', function () {\n\tvar symbol = validateSymbol(this);\n\tif (typeof symbol === 'symbol') return symbol;\n\treturn symbol.toString();\n}));\ndefineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toStringTag, d('c', 'Symbol'));\n\n// Proper implementaton of toPrimitive and toStringTag for returned symbol instances\ndefineProperty(HiddenSymbol.prototype, SymbolPolyfill.toStringTag,\n\td('c', SymbolPolyfill.prototype[SymbolPolyfill.toStringTag]));\n\n// Note: It's important to define `toPrimitive` as last one, as some implementations\n// implement `toPrimitive` natively without implementing `toStringTag` (or other specified symbols)\n// And that may invoke error in definition flow:\n// See: https://github.com/medikoo/es6-symbol/issues/13#issuecomment-164146149\ndefineProperty(HiddenSymbol.prototype, SymbolPolyfill.toPrimitive,\n\td('c', SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]));\n","'use strict';\n\nvar isSymbol = require('./is-symbol');\n\nmodule.exports = function (value) {\n\tif (!isSymbol(value)) throw new TypeError(value + \" is not a symbol\");\n\treturn value;\n};\n","'use strict';\n\nmodule.exports = require('./is-implemented')() ? WeakMap : require('./polyfill');\n","'use strict';\n\nmodule.exports = function () {\n\tvar weakMap, x;\n\tif (typeof WeakMap !== 'function') return false;\n\ttry {\n\t\t// WebKit doesn't support arguments and crashes\n\t\tweakMap = new WeakMap([[x = {}, 'one'], [{}, 'two'], [{}, 'three']]);\n\t} catch (e) {\n\t\treturn false;\n\t}\n\tif (String(weakMap) !== '[object WeakMap]') return false;\n\tif (typeof weakMap.set !== 'function') return false;\n\tif (weakMap.set({}, 1) !== weakMap) return false;\n\tif (typeof weakMap.delete !== 'function') return false;\n\tif (typeof weakMap.has !== 'function') return false;\n\tif (weakMap.get(x) !== 'one') return false;\n\n\treturn true;\n};\n","// Exports true if environment provides native `WeakMap` implementation, whatever that is.\n\n'use strict';\n\nmodule.exports = (function () {\n\tif (typeof WeakMap !== 'function') return false;\n\treturn (Object.prototype.toString.call(new WeakMap()) === '[object WeakMap]');\n}());\n","'use strict';\n\nvar setPrototypeOf    = require('es5-ext/object/set-prototype-of')\n  , object            = require('es5-ext/object/valid-object')\n  , value             = require('es5-ext/object/valid-value')\n  , randomUniq        = require('es5-ext/string/random-uniq')\n  , d                 = require('d')\n  , getIterator       = require('es6-iterator/get')\n  , forOf             = require('es6-iterator/for-of')\n  , toStringTagSymbol = require('es6-symbol').toStringTag\n  , isNative          = require('./is-native-implemented')\n\n  , isArray = Array.isArray, defineProperty = Object.defineProperty\n  , hasOwnProperty = Object.prototype.hasOwnProperty, getPrototypeOf = Object.getPrototypeOf\n  , WeakMapPoly;\n\nmodule.exports = WeakMapPoly = function (/*iterable*/) {\n\tvar iterable = arguments[0], self;\n\tif (!(this instanceof WeakMapPoly)) throw new TypeError('Constructor requires \\'new\\'');\n\tif (isNative && setPrototypeOf && (WeakMap !== WeakMapPoly)) {\n\t\tself = setPrototypeOf(new WeakMap(), getPrototypeOf(this));\n\t} else {\n\t\tself = this;\n\t}\n\tif (iterable != null) {\n\t\tif (!isArray(iterable)) iterable = getIterator(iterable);\n\t}\n\tdefineProperty(self, '__weakMapData__', d('c', '$weakMap$' + randomUniq()));\n\tif (!iterable) return self;\n\tforOf(iterable, function (val) {\n\t\tvalue(val);\n\t\tself.set(val[0], val[1]);\n\t});\n\treturn self;\n};\n\nif (isNative) {\n\tif (setPrototypeOf) setPrototypeOf(WeakMapPoly, WeakMap);\n\tWeakMapPoly.prototype = Object.create(WeakMap.prototype, {\n\t\tconstructor: d(WeakMapPoly)\n\t});\n}\n\nObject.defineProperties(WeakMapPoly.prototype, {\n\tdelete: d(function (key) {\n\t\tif (hasOwnProperty.call(object(key), this.__weakMapData__)) {\n\t\t\tdelete key[this.__weakMapData__];\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}),\n\tget: d(function (key) {\n\t\tif (hasOwnProperty.call(object(key), this.__weakMapData__)) {\n\t\t\treturn key[this.__weakMapData__];\n\t\t}\n\t}),\n\thas: d(function (key) {\n\t\treturn hasOwnProperty.call(object(key), this.__weakMapData__);\n\t}),\n\tset: d(function (key, value) {\n\t\tdefineProperty(object(key), this.__weakMapData__, d('c', value));\n\t\treturn this;\n\t}),\n\ttoString: d(function () { return '[object WeakMap]'; })\n});\ndefineProperty(WeakMapPoly.prototype, toStringTagSymbol, d('c', 'WeakMap'));\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/*\r\n |--------------------------------------------------------------------------\r\n | Drops base field\r\n |--------------------------------------------------------------------------\r\n |\r\n |\r\n |\r\n */\r\n\r\nimport assign from \"object-assign\";\r\nimport * as symbols from \"./symbols\";\r\nimport {listenOnce} from \"./utils\";\r\n\r\nexport default class Field {\r\n\r\n    /*\r\n     -------------------------------\r\n     Initializers\r\n     -------------------------------\r\n     */\r\n\r\n\r\n    constructor(input, options = {}) {\r\n        this.elements = {};\r\n        this.elements.input = input;\r\n\r\n        // Initialize\r\n        this[symbols.initializeOptions](options);\r\n        this[symbols.initializeView]();\r\n        this[symbols.initializeState]();\r\n        this[symbols.initializeEvents]();\r\n    }\r\n\r\n    [symbols.initializeOptions](options) {\r\n        this.options = assign({\r\n            placeholder: this.elements.input.placeholder || \"\",\r\n\r\n            getSelection(field, value) {\r\n                return value;\r\n            },\r\n\r\n            getPlaceholder(field, placeholder) {\r\n                return placeholder;\r\n            },\r\n\r\n            getArrow(field) {\r\n                return \"\";\r\n            }\r\n\r\n        }, options);\r\n    }\r\n\r\n    [symbols.initializeView]() {\r\n        // Hide input element\r\n        this.elements.input.style.display = \"none\";\r\n\r\n        //\r\n        // Wrapper\r\n        //\r\n\r\n        this.elements.wrapper = document.createElement(\"div\");\r\n        this.elements.wrapper.className = \"drops \" + this.elements.input.className;\r\n\r\n        //\r\n        // Head\r\n        //\r\n\r\n        this.elements.head = document.createElement(\"div\");\r\n        this.elements.head.className = \"drops-head\";\r\n        this.elements.wrapper.appendChild(this.elements.head);\r\n\r\n        this.elements.arrow = document.createElement(\"div\");\r\n        this.elements.arrow.className = \"drops-arrow\";\r\n        this.elements.arrow.innerHTML = this.options.getArrow(this);\r\n        this.elements.head.appendChild(this.elements.arrow);\r\n\r\n\r\n        this.elements.placeholder = document.createElement(\"div\");\r\n        this.elements.placeholder.className = \"drops-placeholder\";\r\n        this.elements.placeholder.innerHTML = this.options.getPlaceholder(this, this.options.placeholder);\r\n        this.elements.head.appendChild(this.elements.placeholder);\r\n\r\n        this.elements.selection = document.createElement(\"div\");\r\n        this.elements.selection.className = \"drops-selection\";\r\n        this.elements.head.appendChild(this.elements.selection);\r\n\r\n        //\r\n        // Body\r\n        //\r\n\r\n        this.elements.body = document.createElement(\"div\");\r\n        this.elements.body.className = \"drops-body\";\r\n        this.elements.wrapper.appendChild(this.elements.body);\r\n\r\n        //\r\n        // Push input values to the view \r\n        //\r\n\r\n        if (this.elements.input.disabled) {\r\n            this.disable();\r\n        }\r\n\r\n        // Append view\r\n        if (this.elements.input.nextSibling) {\r\n            this.elements.input.parentNode.insertBefore(this.elements.wrapper, this.elements.input.nextSibling);\r\n        }\r\n        else {\r\n            this.elements.input.parentNode.appendChild(this.elements.wrapper);\r\n        }\r\n    }\r\n\r\n    [symbols.initializeState]() {\r\n        this[symbols.setSelection](this.get());\r\n    }\r\n\r\n    [symbols.initializeEvents]() {\r\n\r\n        //\r\n        // Click on placeholder\r\n        //\r\n\r\n        this.elements.head.addEventListener(\"click\", () => {\r\n            this.toggle();\r\n        });\r\n\r\n        //\r\n        // Click outside (on window)\r\n        //\r\n\r\n        window.addEventListener(\"click\", (e) => {\r\n            if ((this.elements.wrapper != e.target) && !this.elements.wrapper.contains(e.target)) {\r\n                this.close();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    /*\r\n     -------------------------------\r\n     Open/Closed state\r\n     -------------------------------\r\n     */\r\n\r\n    get opened() {\r\n        return this.elements.wrapper.className.indexOf(\"drops-open\") > -1;\r\n    }\r\n\r\n    get closed() {\r\n        return !this.opened;\r\n    }\r\n\r\n    open(silent = false) {\r\n        if (this.opened || this.disabled) {\r\n            return this;\r\n        }\r\n\r\n        this.elements.wrapper.className += \" drops-open\";\r\n\r\n        // Trigger\r\n        if (silent == false) {\r\n            this.trigger(\"open\", this);\r\n\r\n            // Trigger opened on transition end\r\n            listenOnce(this.elements.body, \"transitionend\", () => {\r\n                this.trigger(\"opened\", this);\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    close(silent = false) {\r\n        if (this.closed || this.disabled) {\r\n            return this;\r\n        }\r\n\r\n        var classList = this.elements.wrapper.className.split(\" \"),\r\n            classIndex = classList.indexOf(\"drops-open\");\r\n\r\n        classList.splice(classIndex, 1);\r\n        this.elements.wrapper.className = classList.join(\" \");\r\n\r\n        // Trigger\r\n        if (silent == false) {\r\n            this.trigger(\"close\", this);\r\n\r\n            // Trigger closed on transition end\r\n            listenOnce(this.elements.body, \"transitionend\", () => {\r\n                this.trigger(\"closed\");\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    toggle() {\r\n        return this.opened ? this.close() : this.open();\r\n    }\r\n\r\n    /*\r\n     -------------------------------\r\n     Selection state\r\n     -------------------------------\r\n     */\r\n\r\n    [symbols.setSelection](value) {\r\n        // Clear\r\n        if ((value == null) || (value.length === 0)) {\r\n            return this[symbols.clearSelection]();\r\n        }\r\n\r\n        // Set\r\n        this.elements.selection.innerHTML = this.options.getSelection(this, value);\r\n        this.elements.wrapper.className += \" drops-has-selection\";\r\n\r\n        return this;\r\n    }\r\n\r\n    [symbols.clearSelection]() {\r\n        var classList = this.elements.wrapper.className.split(\" \"),\r\n            classIndex = classList.indexOf(\"drops-has-selection\");\r\n\r\n        if (classIndex > -1) {\r\n            classList.splice(classIndex, 1);\r\n            this.elements.wrapper.className = classList.join(\" \");\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /*\r\n     -------------------------------\r\n     Enable/Disabled state\r\n     -------------------------------\r\n     */\r\n\r\n    get disabled() {\r\n        return this.elements.wrapper.className.indexOf(\"drops-disabled\") > -1;\r\n    }\r\n\r\n    get enabled() {\r\n        return !this.disabled;\r\n    }\r\n\r\n    enable(silent = false) {\r\n        if (this.enabled) {\r\n            return this;\r\n        }\r\n\r\n        var classList = this.elements.wrapper.className.split(\" \"),\r\n            disabledIndex = classList.indexOf(\"drops-disabled\");\r\n\r\n        classList.splice(disabledIndex, 1);\r\n\r\n        this.elements.wrapper.className = classList.join(\" \");\r\n\r\n        // Trigger\r\n        if (silent == false) {\r\n            this.trigger(\"enable\", this);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    disable(silent = false) {\r\n        if (this.disabled) {\r\n            return this;\r\n        }\r\n\r\n        this.elements.wrapper.className += \" drops-disabled\";\r\n\r\n        if (silent == false) {\r\n            this.trigger(\"disable\", this);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /*\r\n     -------------------------------\r\n     Value mutators\r\n     -------------------------------\r\n     */\r\n\r\n    [symbols.getValue]() {\r\n        return this.elements.input.value;\r\n    }\r\n\r\n    [symbols.setValue](value) {\r\n        if (this.get() === value) {\r\n            return false;\r\n        }\r\n\r\n        this.elements.input.value = value || \"\";\r\n        return true;\r\n    }\r\n\r\n    get() {\r\n        return this[symbols.getValue]();\r\n    }\r\n\r\n    set(value, silent = false) {\r\n        if (this[symbols.setValue](value)) {\r\n            this[symbols.setSelection](this.get());\r\n\r\n            if (!silent) {\r\n                this.trigger(\"change\", this);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /*\r\n     -------------------------------\r\n     Events\r\n     -------------------------------\r\n     */\r\n\r\n    on(eventName, callback) {\r\n        this.elements.input.addEventListener(eventName, callback);\r\n        return this;\r\n    }\r\n\r\n    off(eventName, callback) {\r\n        this.elements.input.removeEventListener(eventName, callback);\r\n        return this;\r\n    }\r\n\r\n    trigger(eventName, data = {}) {\r\n        var event = new Event(eventName, data);\r\n        this.elements.input.dispatchEvent(event);\r\n        return this;\r\n    }\r\n\r\n}","/*\r\n |--------------------------------------------------------------------------\r\n | Select field\r\n |--------------------------------------------------------------------------\r\n |\r\n |\r\n |\r\n */\r\n\r\nimport assign from \"object-assign\";\r\nimport Field from \"./Field\";\r\nimport * as symbols from \"./symbols\";\r\nimport {debounce} from \"./utils\";\r\nimport Symbol from \"es6-symbol\";\r\n\r\n// Local symbols\r\n\r\nexport default class SelectField extends Field {\r\n\r\n    /*\r\n     -------------------------------\r\n     Initializers\r\n     -------------------------------\r\n     */\r\n\r\n    constructor(input, options = {}) {\r\n        if (input.nodeName.toLowerCase() !== \"select\") {\r\n            throw new Error(\"The select field can only instantiate select elements!\");\r\n            return;\r\n        }\r\n\r\n        super(input, options);\r\n    }\r\n\r\n    [symbols.initializeOptions](options) {\r\n        super[symbols.initializeOptions](options);\r\n\r\n        this.options = assign(this.options, {\r\n            placeholder: this.elements.input.dataset.placeholder || \"\",\r\n\r\n            // Query\r\n            queryOptions: true,\r\n            queryPlaceholder: \"Filter options...\",\r\n            queryDebounce: 250,\r\n            query(field, options, query) {\r\n                // Filter by label\r\n                options.forEach((option) => {\r\n                    option.style.display = option.dataset.label.indexOf(query) === 0 ?\r\n                        \"block\" : \"none\";\r\n                });\r\n            },\r\n\r\n            // Selection\r\n            getSelection(field, value) {\r\n                var data = field.getOptionData(value);\r\n                return data ? data.label : \"\";\r\n            },\r\n\r\n            // Option\r\n            getOption(data) {\r\n                return data.label;\r\n            }\r\n\r\n        }, options);\r\n    }\r\n\r\n    [symbols.initializeView]() {\r\n        super[symbols.initializeView]();\r\n\r\n        //\r\n        // Overrides\r\n        //\r\n\r\n        this.elements.wrapper.className += \" drops-select\";\r\n\r\n        //\r\n        // Options query\r\n        //\r\n\r\n        if (this.options.queryOptions) {\r\n            this.elements.query = document.createElement(\"div\");\r\n            this.elements.query.className = \"drops-query\";\r\n            this.elements.body.appendChild(this.elements.query);\r\n\r\n            this.elements.queryInput = document.createElement(\"input\");\r\n            this.elements.queryInput.type = \"text\";\r\n            this.elements.queryInput.placeholder = this.options.queryPlaceholder;\r\n            this.elements.query.appendChild(this.elements.queryInput);\r\n        }\r\n\r\n        //\r\n        // Options\r\n        //\r\n\r\n        this.elements.options = document.createElement(\"div\");\r\n        this.elements.options.className = \"drops-options\";\r\n        this.elements.body.appendChild(this.elements.options);\r\n    }\r\n\r\n    [symbols.initializeState]() {\r\n        var options = [];\r\n\r\n        Array.prototype.slice.call(this.elements.input.options).forEach((option) => {\r\n            options.push({\r\n                value: option.value,\r\n                label: option.innerText,\r\n                selected: option.selected\r\n            });\r\n        });\r\n\r\n        this.setOptions(options, true);\r\n    }\r\n\r\n    [symbols.initializeEvents]() {\r\n        super[symbols.initializeEvents]();\r\n\r\n        //\r\n        // Options click event\r\n        //\r\n\r\n        this.elements.options.addEventListener(\"click\", (e) => {\r\n            if (e.target.className.indexOf(\"drops-option\") > -1) {\r\n                this.set(e.target.dataset.value);\r\n                this.close();\r\n            }\r\n        });\r\n\r\n        //\r\n        // Query input\r\n        //\r\n\r\n        if (this.elements.queryInput) {\r\n\r\n            // Filter on input\r\n            this.elements.queryInput.addEventListener(\"input\", debounce(this.options.queryDebounce, () => {\r\n                this.options.query(\r\n                    this,\r\n                    this.elements.options.querySelectorAll(\".drops-option\"),\r\n                    this.elements.queryInput.value\r\n                );\r\n            }));\r\n\r\n            // Focus on open\r\n            this.on(\"opened\", () => {\r\n                this.elements.queryInput.focus();\r\n            });\r\n        }\r\n    }\r\n\r\n    /*\r\n     -------------------------------\r\n     Option management\r\n     -------------------------------\r\n     */\r\n\r\n    getOptionData(value) {\r\n        var option = this.elements.options.querySelector(`.drops-option[data-value='${value}']`);\r\n        return option ? option.dataset : null;\r\n    }\r\n\r\n    setOptions(options, silent = false) {\r\n        // Clear selection\r\n        this.set(null, true);\r\n\r\n        // Clear current options\r\n        this.elements.input.innerHTML = \"\";\r\n        this.elements.options.innerHTML = \"\";\r\n\r\n        // Push placeholder input option\r\n        var placeholder = document.createElement(\"option\");\r\n        placeholder.value = \"\";\r\n        placeholder.innerText = this.options.placeholder;\r\n        this.elements.input.appendChild(placeholder);\r\n\r\n        // Build options\r\n        var selection;\r\n\r\n        options.forEach((optionData) => {\r\n            if ((typeof optionData.value !== \"string\") || (optionData.value.length === 0)) {\r\n                return;\r\n            }\r\n\r\n            if (!optionData.label) {\r\n                optionData.label = optionData.value;\r\n            }\r\n\r\n            // Create input option\r\n            var inputOption = document.createElement(\"option\");\r\n            inputOption.value = optionData.value;\r\n            inputOption.innerText = optionData.label;\r\n            this.elements.input.appendChild(inputOption);\r\n\r\n            // Create option\r\n            var option = document.createElement(\"div\");\r\n            option.className = \"drops-option\";\r\n            option.innerHTML = this.options.getOption(optionData);\r\n\r\n            Object.keys(optionData).forEach((key) => {\r\n                option.dataset[key] = optionData[key];\r\n            });\r\n\r\n            this.elements.options.appendChild(option);\r\n\r\n            // Select if selected\r\n            if (optionData.selected) {\r\n                selection = optionData.value;\r\n            }\r\n        });\r\n\r\n        // Set selection\r\n        this.set(selection, silent);\r\n    }\r\n\r\n    /*\r\n     -------------------------------\r\n     Value\r\n     -------------------------------\r\n     */\r\n\r\n    [symbols.setValue](value) {\r\n        if (this.get() === value) {\r\n            return false;\r\n        }\r\n\r\n        // Get option\r\n        var option;\r\n\r\n        if ((value != null) && (value.length > 0)) {\r\n            option = this.elements.options.querySelector(`.drops-option[data-value='${value}']`);\r\n\r\n            if (!option) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // Clear current selection\r\n        var current = this.elements.options.querySelector(\".drops-option.drops-selected\");\r\n\r\n        if (current) {\r\n            var currentClasses = current.className.split(\" \"),\r\n                selectedIndex = currentClasses.indexOf(\"drops-selected\");\r\n\r\n            currentClasses.splice(selectedIndex, 1);\r\n            current.className = currentClasses.join(\" \");\r\n            current.dataset.selected = false;\r\n        }\r\n\r\n        // Clear input selection\r\n        this.elements.input.value = \"\";\r\n\r\n        // Set new selection\r\n        if (option) {\r\n            option.className += \" drops-selected\";\r\n            option.dataset.selected = true;\r\n            this.elements.input.value = value;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n}","/*\r\n |--------------------------------------------------------------------------\r\n | Drops\r\n |--------------------------------------------------------------------------\r\n |\r\n |\r\n |\r\n */\r\n\r\nimport Field from \"./Field\";\r\nimport Select from \"./Select\";\r\nimport {create, register, instance} from \"./manager\";\r\nimport symbols from \"./symbols\";\r\n\r\n(function (root, factory) {\r\n    var drops = factory();\r\n\r\n    // Common JS (since this is browserify it's fair to export all the time)\r\n    module.exports = drops;\r\n\r\n    // AMD\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(() => {\r\n            return drops;\r\n        });\r\n    }\r\n\r\n    // Window\r\n    else {\r\n        root.drops = drops;\r\n    }\r\n\r\n})(window || global, function () {\r\n\r\n    // Push bundled fields\r\n    register(\"select\", Select);\r\n\r\n    // Export\r\n    return {\r\n        Field: Field,\r\n        Select: Select,\r\n        create: create,\r\n        register: register,\r\n        instance: instance,\r\n        symbols: symbols\r\n    };\r\n});","/*\r\n |--------------------------------------------------------------------------\r\n | Field manager (create and retrieve instances)\r\n |--------------------------------------------------------------------------\r\n |\r\n |\r\n |\r\n */\r\n\r\nimport WeakMap from \"es6-weak-map\";\r\n\r\n//\r\n// Locals\r\n//\r\n\r\nvar instances = new WeakMap(),\r\n    types = {};\r\n\r\n//\r\n// Register a new type of field\r\n//\r\n\r\nexport function register(typeName, typeClass) {\r\n    types[typeName] = typeClass;\r\n}\r\n\r\n//\r\n// Creates a new field instance\r\n//\r\n\r\nexport function create(type, element, options = {}) {\r\n    // Check if already an instance\r\n    if (instances.get(element)) {\r\n        throw new Error(\"A field instance already exists on the element!\");\r\n        return;\r\n    }\r\n\r\n    // Check class\r\n    if (!types[type]) {\r\n        throw new Error(\"The type could not be found!\");\r\n        return;\r\n    }\r\n\r\n    var instance = new types[type](element, options);\r\n    instances.set(element, instance);\r\n\r\n    return instance;\r\n}\r\n\r\n//\r\n// Retrieves an instance for a specific element\r\n//\r\n\r\nexport function instance(element) {\r\n    return instances.get(element);\r\n}\r\n","/*\r\n |--------------------------------------------------------------------------\r\n | Symbols used in the field class\r\n |--------------------------------------------------------------------------\r\n |\r\n |\r\n |\r\n */\r\n\r\nimport Symbol from \"es6-symbol\";\r\n\r\nexport const initializeOptions = Symbol(\"initializeOptions\");\r\nexport const initializeView = Symbol(\"initializeView\");\r\nexport const initializeEvents = Symbol(\"initializeEvents\");\r\nexport const initializeState = Symbol(\"initializeState\");\r\nexport const setSelection = Symbol(\"setSelection\");\r\nexport const clearSelection = Symbol(\"clearSelection\");\r\nexport const setValue = Symbol(\"setValue\");\r\nexport const getValue = Symbol(\"getValue\");","/**\r\n * Debounces a function\r\n *\r\n * @param {int} timeout\r\n * @param {Function} callback\r\n * @returns {Function}\r\n */\r\n\r\nexport function debounce(timeout, callback) {\r\n    var timer;\r\n\r\n    return function () {\r\n        var args = arguments;\r\n\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n            timer = null;\r\n        }\r\n\r\n        timer = setTimeout(() => {\r\n            timer = null;\r\n            callback.apply(this, args);\r\n\r\n        }, timeout);\r\n    };\r\n}\r\n\r\n/**\r\n * Adds a listener that triggers once on a specific element\r\n *\r\n * @param element\r\n * @param eventName\r\n * @param callback\r\n */\r\n\r\nexport function listenOnce(element, eventName, callback) {\r\n    function callbackWrapper() {\r\n        element.removeEventListener(eventName, callbackWrapper);\r\n        callback.apply(this, arguments);\r\n    }\r\n\r\n    element.addEventListener(eventName, callbackWrapper);\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZC9hdXRvLWJpbmQuanMiLCJub2RlX21vZHVsZXMvZC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L2FycmF5LyMvY2xlYXIuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9mdW5jdGlvbi9pcy1hcmd1bWVudHMuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvX2l0ZXJhdGUuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvYXNzaWduL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvb2JqZWN0L2Fzc2lnbi9pcy1pbXBsZW1lbnRlZC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9hc3NpZ24vc2hpbS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9jb3B5LmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvb2JqZWN0L2NyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9mb3ItZWFjaC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9pcy1jYWxsYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3Qva2V5cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9rZXlzL2lzLWltcGxlbWVudGVkLmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvb2JqZWN0L2tleXMvc2hpbS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9tYXAuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3Qvbm9ybWFsaXplLW9wdGlvbnMuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9zZXQtcHJvdG90eXBlLW9mL2lzLWltcGxlbWVudGVkLmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvb2JqZWN0L3NldC1wcm90b3R5cGUtb2Yvc2hpbS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC92YWxpZC1jYWxsYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC92YWxpZC1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvdmFsaWQtdmFsdWUuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9zdHJpbmcvIy9jb250YWlucy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L3N0cmluZy8jL2NvbnRhaW5zL2lzLWltcGxlbWVudGVkLmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvc3RyaW5nLyMvY29udGFpbnMvc2hpbS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L3N0cmluZy9pcy1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9zdHJpbmcvcmFuZG9tLXVuaXEuanMiLCJub2RlX21vZHVsZXMvZXM2LWl0ZXJhdG9yL2FycmF5LmpzIiwibm9kZV9tb2R1bGVzL2VzNi1pdGVyYXRvci9mb3Itb2YuanMiLCJub2RlX21vZHVsZXMvZXM2LWl0ZXJhdG9yL2dldC5qcyIsIm5vZGVfbW9kdWxlcy9lczYtaXRlcmF0b3IvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZXM2LWl0ZXJhdG9yL2lzLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2VzNi1pdGVyYXRvci9zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvZXM2LWl0ZXJhdG9yL3ZhbGlkLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2VzNi1zeW1ib2wvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZXM2LXN5bWJvbC9pcy1pbXBsZW1lbnRlZC5qcyIsIm5vZGVfbW9kdWxlcy9lczYtc3ltYm9sL2lzLXN5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9lczYtc3ltYm9sL3BvbHlmaWxsLmpzIiwibm9kZV9tb2R1bGVzL2VzNi1zeW1ib2wvdmFsaWRhdGUtc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2VzNi13ZWFrLW1hcC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9lczYtd2Vhay1tYXAvaXMtaW1wbGVtZW50ZWQuanMiLCJub2RlX21vZHVsZXMvZXM2LXdlYWstbWFwL2lzLW5hdGl2ZS1pbXBsZW1lbnRlZC5qcyIsIm5vZGVfbW9kdWxlcy9lczYtd2Vhay1tYXAvcG9seWZpbGwuanMiLCJub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsInNyY1xcanNcXEZpZWxkLmpzIiwic3JjXFxqc1xcU2VsZWN0LmpzIiwic3JjXFxqc1xcc3JjXFxqc1xcaW5kZXguanMiLCJzcmNcXGpzXFxtYW5hZ2VyLmpzIiwic3JjXFxqc1xcc3ltYm9scy5qcyIsInNyY1xcanNcXHV0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LFNBSk8sRUFJTCxPQUpLLENBQVI7QUFLSCxLQWJEO0FBY0g7O0FBRUQ7Ozs7Ozs7O0FBUU8sU0FBUyxVQUFULENBQW9CLE9BQXBCLEVBQTZCLFNBQTdCLEVBQXdDLFFBQXhDLEVBQWtEO0FBQ3JELGFBQVMsZUFBVCxHQUEyQjtBQUN2QixnQkFBUSxtQkFBUixDQUE0QixTQUE1QixFQUF1QyxlQUF2QztBQUNBLGlCQUFTLEtBQVQsQ0FBZSxJQUFmLEVBQXFCLFNBQXJCO0FBQ0g7O0FBRUQsWUFBUSxnQkFBUixDQUF5QixTQUF6QixFQUFvQyxlQUFwQztBQUNIIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNvcHkgICAgICAgICAgICAgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC9jb3B5JylcbiAgLCBub3JtYWxpemVPcHRpb25zID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3Qvbm9ybWFsaXplLW9wdGlvbnMnKVxuICAsIGVuc3VyZUNhbGxhYmxlICAgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC92YWxpZC1jYWxsYWJsZScpXG4gICwgbWFwICAgICAgICAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L21hcCcpXG4gICwgY2FsbGFibGUgICAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3ZhbGlkLWNhbGxhYmxlJylcbiAgLCB2YWxpZFZhbHVlICAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvdmFsaWQtdmFsdWUnKVxuXG4gICwgYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAsIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIGRlZmluZTtcblxuZGVmaW5lID0gZnVuY3Rpb24gKG5hbWUsIGRlc2MsIG9wdGlvbnMpIHtcblx0dmFyIHZhbHVlID0gdmFsaWRWYWx1ZShkZXNjKSAmJiBjYWxsYWJsZShkZXNjLnZhbHVlKSwgZGdzO1xuXHRkZ3MgPSBjb3B5KGRlc2MpO1xuXHRkZWxldGUgZGdzLndyaXRhYmxlO1xuXHRkZWxldGUgZGdzLnZhbHVlO1xuXHRkZ3MuZ2V0ID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICghb3B0aW9ucy5vdmVyd3JpdGVEZWZpbml0aW9uICYmIGhhc093blByb3BlcnR5LmNhbGwodGhpcywgbmFtZSkpIHJldHVybiB2YWx1ZTtcblx0XHRkZXNjLnZhbHVlID0gYmluZC5jYWxsKHZhbHVlLCBvcHRpb25zLnJlc29sdmVDb250ZXh0ID8gb3B0aW9ucy5yZXNvbHZlQ29udGV4dCh0aGlzKSA6IHRoaXMpO1xuXHRcdGRlZmluZVByb3BlcnR5KHRoaXMsIG5hbWUsIGRlc2MpO1xuXHRcdHJldHVybiB0aGlzW25hbWVdO1xuXHR9O1xuXHRyZXR1cm4gZGdzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocHJvcHMvKiwgb3B0aW9ucyovKSB7XG5cdHZhciBvcHRpb25zID0gbm9ybWFsaXplT3B0aW9ucyhhcmd1bWVudHNbMV0pO1xuXHRpZiAob3B0aW9ucy5yZXNvbHZlQ29udGV4dCAhPSBudWxsKSBlbnN1cmVDYWxsYWJsZShvcHRpb25zLnJlc29sdmVDb250ZXh0KTtcblx0cmV0dXJuIG1hcChwcm9wcywgZnVuY3Rpb24gKGRlc2MsIG5hbWUpIHsgcmV0dXJuIGRlZmluZShuYW1lLCBkZXNjLCBvcHRpb25zKTsgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNzaWduICAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L2Fzc2lnbicpXG4gICwgbm9ybWFsaXplT3B0cyA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L25vcm1hbGl6ZS1vcHRpb25zJylcbiAgLCBpc0NhbGxhYmxlICAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvaXMtY2FsbGFibGUnKVxuICAsIGNvbnRhaW5zICAgICAgPSByZXF1aXJlKCdlczUtZXh0L3N0cmluZy8jL2NvbnRhaW5zJylcblxuICAsIGQ7XG5cbmQgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkc2NyLCB2YWx1ZS8qLCBvcHRpb25zKi8pIHtcblx0dmFyIGMsIGUsIHcsIG9wdGlvbnMsIGRlc2M7XG5cdGlmICgoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHx8ICh0eXBlb2YgZHNjciAhPT0gJ3N0cmluZycpKSB7XG5cdFx0b3B0aW9ucyA9IHZhbHVlO1xuXHRcdHZhbHVlID0gZHNjcjtcblx0XHRkc2NyID0gbnVsbDtcblx0fSBlbHNlIHtcblx0XHRvcHRpb25zID0gYXJndW1lbnRzWzJdO1xuXHR9XG5cdGlmIChkc2NyID09IG51bGwpIHtcblx0XHRjID0gdyA9IHRydWU7XG5cdFx0ZSA9IGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdGMgPSBjb250YWlucy5jYWxsKGRzY3IsICdjJyk7XG5cdFx0ZSA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ2UnKTtcblx0XHR3ID0gY29udGFpbnMuY2FsbChkc2NyLCAndycpO1xuXHR9XG5cblx0ZGVzYyA9IHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IGMsIGVudW1lcmFibGU6IGUsIHdyaXRhYmxlOiB3IH07XG5cdHJldHVybiAhb3B0aW9ucyA/IGRlc2MgOiBhc3NpZ24obm9ybWFsaXplT3B0cyhvcHRpb25zKSwgZGVzYyk7XG59O1xuXG5kLmdzID0gZnVuY3Rpb24gKGRzY3IsIGdldCwgc2V0LyosIG9wdGlvbnMqLykge1xuXHR2YXIgYywgZSwgb3B0aW9ucywgZGVzYztcblx0aWYgKHR5cGVvZiBkc2NyICE9PSAnc3RyaW5nJykge1xuXHRcdG9wdGlvbnMgPSBzZXQ7XG5cdFx0c2V0ID0gZ2V0O1xuXHRcdGdldCA9IGRzY3I7XG5cdFx0ZHNjciA9IG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0b3B0aW9ucyA9IGFyZ3VtZW50c1szXTtcblx0fVxuXHRpZiAoZ2V0ID09IG51bGwpIHtcblx0XHRnZXQgPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoIWlzQ2FsbGFibGUoZ2V0KSkge1xuXHRcdG9wdGlvbnMgPSBnZXQ7XG5cdFx0Z2V0ID0gc2V0ID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKHNldCA9PSBudWxsKSB7XG5cdFx0c2V0ID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCFpc0NhbGxhYmxlKHNldCkpIHtcblx0XHRvcHRpb25zID0gc2V0O1xuXHRcdHNldCA9IHVuZGVmaW5lZDtcblx0fVxuXHRpZiAoZHNjciA9PSBudWxsKSB7XG5cdFx0YyA9IHRydWU7XG5cdFx0ZSA9IGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdGMgPSBjb250YWlucy5jYWxsKGRzY3IsICdjJyk7XG5cdFx0ZSA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ2UnKTtcblx0fVxuXG5cdGRlc2MgPSB7IGdldDogZ2V0LCBzZXQ6IHNldCwgY29uZmlndXJhYmxlOiBjLCBlbnVtZXJhYmxlOiBlIH07XG5cdHJldHVybiAhb3B0aW9ucyA/IGRlc2MgOiBhc3NpZ24obm9ybWFsaXplT3B0cyhvcHRpb25zKSwgZGVzYyk7XG59O1xuIiwiLy8gSW5zcGlyZWQgYnkgR29vZ2xlIENsb3N1cmU6XG4vLyBodHRwOi8vY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL3N2bi9kb2NzL1xuLy8gY2xvc3VyZV9nb29nX2FycmF5X2FycmF5LmpzLmh0bWwjZ29vZy5hcnJheS5jbGVhclxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciB2YWx1ZSA9IHJlcXVpcmUoJy4uLy4uL29iamVjdC92YWxpZC12YWx1ZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0dmFsdWUodGhpcykubGVuZ3RoID0gMDtcblx0cmV0dXJuIHRoaXM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG5cbiAgLCBpZCA9IHRvU3RyaW5nLmNhbGwoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuICh0b1N0cmluZy5jYWxsKHgpID09PSBpZCk7IH07XG4iLCIvLyBJbnRlcm5hbCBtZXRob2QsIHVzZWQgYnkgaXRlcmF0aW9uIGZ1bmN0aW9ucy5cbi8vIENhbGxzIGEgZnVuY3Rpb24gZm9yIGVhY2gga2V5LXZhbHVlIHBhaXIgZm91bmQgaW4gb2JqZWN0XG4vLyBPcHRpb25hbGx5IHRha2VzIGNvbXBhcmVGbiB0byBpdGVyYXRlIG9iamVjdCBpbiBzcGVjaWZpYyBvcmRlclxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBjYWxsYWJsZSA9IHJlcXVpcmUoJy4vdmFsaWQtY2FsbGFibGUnKVxuICAsIHZhbHVlICAgID0gcmVxdWlyZSgnLi92YWxpZC12YWx1ZScpXG5cbiAgLCBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCwga2V5cyA9IE9iamVjdC5rZXlzXG4gICwgcHJvcGVydHlJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChtZXRob2QsIGRlZlZhbCkge1xuXHRyZXR1cm4gZnVuY3Rpb24gKG9iaiwgY2IvKiwgdGhpc0FyZywgY29tcGFyZUZuKi8pIHtcblx0XHR2YXIgbGlzdCwgdGhpc0FyZyA9IGFyZ3VtZW50c1syXSwgY29tcGFyZUZuID0gYXJndW1lbnRzWzNdO1xuXHRcdG9iaiA9IE9iamVjdCh2YWx1ZShvYmopKTtcblx0XHRjYWxsYWJsZShjYik7XG5cblx0XHRsaXN0ID0ga2V5cyhvYmopO1xuXHRcdGlmIChjb21wYXJlRm4pIHtcblx0XHRcdGxpc3Quc29ydCgodHlwZW9mIGNvbXBhcmVGbiA9PT0gJ2Z1bmN0aW9uJykgPyBiaW5kLmNhbGwoY29tcGFyZUZuLCBvYmopIDogdW5kZWZpbmVkKTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBtZXRob2QgIT09ICdmdW5jdGlvbicpIG1ldGhvZCA9IGxpc3RbbWV0aG9kXTtcblx0XHRyZXR1cm4gY2FsbC5jYWxsKG1ldGhvZCwgbGlzdCwgZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcblx0XHRcdGlmICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIGtleSkpIHJldHVybiBkZWZWYWw7XG5cdFx0XHRyZXR1cm4gY2FsbC5jYWxsKGNiLCB0aGlzQXJnLCBvYmpba2V5XSwga2V5LCBvYmosIGluZGV4KTtcblx0XHR9KTtcblx0fTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pcy1pbXBsZW1lbnRlZCcpKClcblx0PyBPYmplY3QuYXNzaWduXG5cdDogcmVxdWlyZSgnLi9zaGltJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbiwgb2JqO1xuXHRpZiAodHlwZW9mIGFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRvYmogPSB7IGZvbzogJ3JheicgfTtcblx0YXNzaWduKG9iaiwgeyBiYXI6ICdkd2EnIH0sIHsgdHJ6eTogJ3RyenknIH0pO1xuXHRyZXR1cm4gKG9iai5mb28gKyBvYmouYmFyICsgb2JqLnRyenkpID09PSAncmF6ZHdhdHJ6eSc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5cyAgPSByZXF1aXJlKCcuLi9rZXlzJylcbiAgLCB2YWx1ZSA9IHJlcXVpcmUoJy4uL3ZhbGlkLXZhbHVlJylcblxuICAsIG1heCA9IE1hdGgubWF4O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkZXN0LCBzcmMvKiwg4oCmc3JjbiovKSB7XG5cdHZhciBlcnJvciwgaSwgbCA9IG1heChhcmd1bWVudHMubGVuZ3RoLCAyKSwgYXNzaWduO1xuXHRkZXN0ID0gT2JqZWN0KHZhbHVlKGRlc3QpKTtcblx0YXNzaWduID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdHRyeSB7IGRlc3Rba2V5XSA9IHNyY1trZXldOyB9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGU7XG5cdFx0fVxuXHR9O1xuXHRmb3IgKGkgPSAxOyBpIDwgbDsgKytpKSB7XG5cdFx0c3JjID0gYXJndW1lbnRzW2ldO1xuXHRcdGtleXMoc3JjKS5mb3JFYWNoKGFzc2lnbik7XG5cdH1cblx0aWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHRocm93IGVycm9yO1xuXHRyZXR1cm4gZGVzdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL2Fzc2lnbicpXG4gICwgdmFsdWUgID0gcmVxdWlyZSgnLi92YWxpZC12YWx1ZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcblx0dmFyIGNvcHkgPSBPYmplY3QodmFsdWUob2JqKSk7XG5cdGlmIChjb3B5ICE9PSBvYmopIHJldHVybiBjb3B5O1xuXHRyZXR1cm4gYXNzaWduKHt9LCBvYmopO1xufTtcbiIsIi8vIFdvcmthcm91bmQgZm9yIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTI4MDRcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSwgc2hpbTtcblxuaWYgKCFyZXF1aXJlKCcuL3NldC1wcm90b3R5cGUtb2YvaXMtaW1wbGVtZW50ZWQnKSgpKSB7XG5cdHNoaW0gPSByZXF1aXJlKCcuL3NldC1wcm90b3R5cGUtb2Yvc2hpbScpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciBudWxsT2JqZWN0LCBwcm9wcywgZGVzYztcblx0aWYgKCFzaGltKSByZXR1cm4gY3JlYXRlO1xuXHRpZiAoc2hpbS5sZXZlbCAhPT0gMSkgcmV0dXJuIGNyZWF0ZTtcblxuXHRudWxsT2JqZWN0ID0ge307XG5cdHByb3BzID0ge307XG5cdGRlc2MgPSB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSxcblx0XHR2YWx1ZTogdW5kZWZpbmVkIH07XG5cdE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5wcm90b3R5cGUpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRpZiAobmFtZSA9PT0gJ19fcHJvdG9fXycpIHtcblx0XHRcdHByb3BzW25hbWVdID0geyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0dmFsdWU6IHVuZGVmaW5lZCB9O1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRwcm9wc1tuYW1lXSA9IGRlc2M7XG5cdH0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhudWxsT2JqZWN0LCBwcm9wcyk7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHNoaW0sICdudWxsUG9seWZpbGwnLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgdmFsdWU6IG51bGxPYmplY3QgfSk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChwcm90b3R5cGUsIHByb3BzKSB7XG5cdFx0cmV0dXJuIGNyZWF0ZSgocHJvdG90eXBlID09PSBudWxsKSA/IG51bGxPYmplY3QgOiBwcm90b3R5cGUsIHByb3BzKTtcblx0fTtcbn0oKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faXRlcmF0ZScpKCdmb3JFYWNoJyk7XG4iLCIvLyBEZXByZWNhdGVkXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWFwID0geyAnZnVuY3Rpb24nOiB0cnVlLCBvYmplY3Q6IHRydWUgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeCkge1xuXHRyZXR1cm4gKCh4ICE9IG51bGwpICYmIG1hcFt0eXBlb2YgeF0pIHx8IGZhbHNlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2lzLWltcGxlbWVudGVkJykoKVxuXHQ/IE9iamVjdC5rZXlzXG5cdDogcmVxdWlyZSgnLi9zaGltJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR0cnkge1xuXHRcdE9iamVjdC5rZXlzKCdwcmltaXRpdmUnKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBrZXlzID0gT2JqZWN0LmtleXM7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCkge1xuXHRyZXR1cm4ga2V5cyhvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IE9iamVjdChvYmplY3QpKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjYWxsYWJsZSA9IHJlcXVpcmUoJy4vdmFsaWQtY2FsbGFibGUnKVxuICAsIGZvckVhY2ggID0gcmVxdWlyZSgnLi9mb3ItZWFjaCcpXG5cbiAgLCBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaiwgY2IvKiwgdGhpc0FyZyovKSB7XG5cdHZhciBvID0ge30sIHRoaXNBcmcgPSBhcmd1bWVudHNbMl07XG5cdGNhbGxhYmxlKGNiKTtcblx0Zm9yRWFjaChvYmosIGZ1bmN0aW9uICh2YWx1ZSwga2V5LCBvYmosIGluZGV4KSB7XG5cdFx0b1trZXldID0gY2FsbC5jYWxsKGNiLCB0aGlzQXJnLCB2YWx1ZSwga2V5LCBvYmosIGluZGV4KTtcblx0fSk7XG5cdHJldHVybiBvO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGZvckVhY2ggPSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcblxudmFyIHByb2Nlc3MgPSBmdW5jdGlvbiAoc3JjLCBvYmopIHtcblx0dmFyIGtleTtcblx0Zm9yIChrZXkgaW4gc3JjKSBvYmpba2V5XSA9IHNyY1trZXldO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0aW9ucy8qLCDigKZvcHRpb25zKi8pIHtcblx0dmFyIHJlc3VsdCA9IGNyZWF0ZShudWxsKTtcblx0Zm9yRWFjaC5jYWxsKGFyZ3VtZW50cywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRpZiAob3B0aW9ucyA9PSBudWxsKSByZXR1cm47XG5cdFx0cHJvY2VzcyhPYmplY3Qob3B0aW9ucyksIHJlc3VsdCk7XG5cdH0pO1xuXHRyZXR1cm4gcmVzdWx0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2lzLWltcGxlbWVudGVkJykoKVxuXHQ/IE9iamVjdC5zZXRQcm90b3R5cGVPZlxuXHQ6IHJlcXVpcmUoJy4vc2hpbScpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSwgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2ZcbiAgLCB4ID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKC8qY3VzdG9tQ3JlYXRlKi8pIHtcblx0dmFyIHNldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mXG5cdCAgLCBjdXN0b21DcmVhdGUgPSBhcmd1bWVudHNbMF0gfHwgY3JlYXRlO1xuXHRpZiAodHlwZW9mIHNldFByb3RvdHlwZU9mICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiBnZXRQcm90b3R5cGVPZihzZXRQcm90b3R5cGVPZihjdXN0b21DcmVhdGUobnVsbCksIHgpKSA9PT0geDtcbn07XG4iLCIvLyBCaWcgdGhhbmtzIHRvIEBXZWJSZWZsZWN0aW9uIGZvciBzb3J0aW5nIHRoaXMgb3V0XG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9XZWJSZWZsZWN0aW9uLzU1OTM1NTRcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNPYmplY3QgICAgICA9IHJlcXVpcmUoJy4uL2lzLW9iamVjdCcpXG4gICwgdmFsdWUgICAgICAgICA9IHJlcXVpcmUoJy4uL3ZhbGlkLXZhbHVlJylcblxuICAsIGlzUHJvdG90eXBlT2YgPSBPYmplY3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2ZcbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAsIG51bGxEZXNjID0geyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSxcblx0XHR2YWx1ZTogdW5kZWZpbmVkIH1cbiAgLCB2YWxpZGF0ZTtcblxudmFsaWRhdGUgPSBmdW5jdGlvbiAob2JqLCBwcm90b3R5cGUpIHtcblx0dmFsdWUob2JqKTtcblx0aWYgKChwcm90b3R5cGUgPT09IG51bGwpIHx8IGlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiBvYmo7XG5cdHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvdHlwZSBtdXN0IGJlIG51bGwgb3IgYW4gb2JqZWN0Jyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoc3RhdHVzKSB7XG5cdHZhciBmbiwgc2V0O1xuXHRpZiAoIXN0YXR1cykgcmV0dXJuIG51bGw7XG5cdGlmIChzdGF0dXMubGV2ZWwgPT09IDIpIHtcblx0XHRpZiAoc3RhdHVzLnNldCkge1xuXHRcdFx0c2V0ID0gc3RhdHVzLnNldDtcblx0XHRcdGZuID0gZnVuY3Rpb24gKG9iaiwgcHJvdG90eXBlKSB7XG5cdFx0XHRcdHNldC5jYWxsKHZhbGlkYXRlKG9iaiwgcHJvdG90eXBlKSwgcHJvdG90eXBlKTtcblx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZuID0gZnVuY3Rpb24gKG9iaiwgcHJvdG90eXBlKSB7XG5cdFx0XHRcdHZhbGlkYXRlKG9iaiwgcHJvdG90eXBlKS5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG5cdFx0XHRcdHJldHVybiBvYmo7XG5cdFx0XHR9O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRmbiA9IGZ1bmN0aW9uIHNlbGYob2JqLCBwcm90b3R5cGUpIHtcblx0XHRcdHZhciBpc051bGxCYXNlO1xuXHRcdFx0dmFsaWRhdGUob2JqLCBwcm90b3R5cGUpO1xuXHRcdFx0aXNOdWxsQmFzZSA9IGlzUHJvdG90eXBlT2YuY2FsbChzZWxmLm51bGxQb2x5ZmlsbCwgb2JqKTtcblx0XHRcdGlmIChpc051bGxCYXNlKSBkZWxldGUgc2VsZi5udWxsUG9seWZpbGwuX19wcm90b19fO1xuXHRcdFx0aWYgKHByb3RvdHlwZSA9PT0gbnVsbCkgcHJvdG90eXBlID0gc2VsZi5udWxsUG9seWZpbGw7XG5cdFx0XHRvYmouX19wcm90b19fID0gcHJvdG90eXBlO1xuXHRcdFx0aWYgKGlzTnVsbEJhc2UpIGRlZmluZVByb3BlcnR5KHNlbGYubnVsbFBvbHlmaWxsLCAnX19wcm90b19fJywgbnVsbERlc2MpO1xuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9O1xuXHR9XG5cdHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICdsZXZlbCcsIHsgY29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCB2YWx1ZTogc3RhdHVzLmxldmVsIH0pO1xufSgoZnVuY3Rpb24gKCkge1xuXHR2YXIgeCA9IE9iamVjdC5jcmVhdGUobnVsbCksIHkgPSB7fSwgc2V0XG5cdCAgLCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJyk7XG5cblx0aWYgKGRlc2MpIHtcblx0XHR0cnkge1xuXHRcdFx0c2V0ID0gZGVzYy5zZXQ7IC8vIE9wZXJhIGNyYXNoZXMgYXQgdGhpcyBwb2ludFxuXHRcdFx0c2V0LmNhbGwoeCwgeSk7XG5cdFx0fSBjYXRjaCAoaWdub3JlKSB7IH1cblx0XHRpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHgpID09PSB5KSByZXR1cm4geyBzZXQ6IHNldCwgbGV2ZWw6IDIgfTtcblx0fVxuXG5cdHguX19wcm90b19fID0geTtcblx0aWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih4KSA9PT0geSkgcmV0dXJuIHsgbGV2ZWw6IDIgfTtcblxuXHR4ID0ge307XG5cdHguX19wcm90b19fID0geTtcblx0aWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih4KSA9PT0geSkgcmV0dXJuIHsgbGV2ZWw6IDEgfTtcblxuXHRyZXR1cm4gZmFsc2U7XG59KCkpKSk7XG5cbnJlcXVpcmUoJy4uL2NyZWF0ZScpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbikge1xuXHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKGZuICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG5cdHJldHVybiBmbjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXMtb2JqZWN0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdGlmICghaXNPYmplY3QodmFsdWUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKHZhbHVlICsgXCIgaXMgbm90IGFuIE9iamVjdFwiKTtcblx0cmV0dXJuIHZhbHVlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0aWYgKHZhbHVlID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlIG51bGwgb3IgdW5kZWZpbmVkXCIpO1xuXHRyZXR1cm4gdmFsdWU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vaXMtaW1wbGVtZW50ZWQnKSgpXG5cdD8gU3RyaW5nLnByb3RvdHlwZS5jb250YWluc1xuXHQ6IHJlcXVpcmUoJy4vc2hpbScpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyID0gJ3JhemR3YXRyenknO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0aWYgKHR5cGVvZiBzdHIuY29udGFpbnMgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuICgoc3RyLmNvbnRhaW5zKCdkd2EnKSA9PT0gdHJ1ZSkgJiYgKHN0ci5jb250YWlucygnZm9vJykgPT09IGZhbHNlKSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5kZXhPZiA9IFN0cmluZy5wcm90b3R5cGUuaW5kZXhPZjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2VhcmNoU3RyaW5nLyosIHBvc2l0aW9uKi8pIHtcblx0cmV0dXJuIGluZGV4T2YuY2FsbCh0aGlzLCBzZWFyY2hTdHJpbmcsIGFyZ3VtZW50c1sxXSkgPiAtMTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuICAsIGlkID0gdG9TdHJpbmcuY2FsbCgnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHgpIHtcblx0cmV0dXJuICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHx8ICh4ICYmICh0eXBlb2YgeCA9PT0gJ29iamVjdCcpICYmXG5cdFx0KCh4IGluc3RhbmNlb2YgU3RyaW5nKSB8fCAodG9TdHJpbmcuY2FsbCh4KSA9PT0gaWQpKSkgfHwgZmFsc2U7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ2VuZXJhdGVkID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4gICwgcmFuZG9tID0gTWF0aC5yYW5kb207XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc3RyO1xuXHRkbyB7IHN0ciA9IHJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTsgfSB3aGlsZSAoZ2VuZXJhdGVkW3N0cl0pO1xuXHRyZXR1cm4gc3RyO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZicpXG4gICwgY29udGFpbnMgICAgICAgPSByZXF1aXJlKCdlczUtZXh0L3N0cmluZy8jL2NvbnRhaW5zJylcbiAgLCBkICAgICAgICAgICAgICA9IHJlcXVpcmUoJ2QnKVxuICAsIEl0ZXJhdG9yICAgICAgID0gcmVxdWlyZSgnLi8nKVxuXG4gICwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgLCBBcnJheUl0ZXJhdG9yO1xuXG5BcnJheUl0ZXJhdG9yID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJyLCBraW5kKSB7XG5cdGlmICghKHRoaXMgaW5zdGFuY2VvZiBBcnJheUl0ZXJhdG9yKSkgcmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yKGFyciwga2luZCk7XG5cdEl0ZXJhdG9yLmNhbGwodGhpcywgYXJyKTtcblx0aWYgKCFraW5kKSBraW5kID0gJ3ZhbHVlJztcblx0ZWxzZSBpZiAoY29udGFpbnMuY2FsbChraW5kLCAna2V5K3ZhbHVlJykpIGtpbmQgPSAna2V5K3ZhbHVlJztcblx0ZWxzZSBpZiAoY29udGFpbnMuY2FsbChraW5kLCAna2V5JykpIGtpbmQgPSAna2V5Jztcblx0ZWxzZSBraW5kID0gJ3ZhbHVlJztcblx0ZGVmaW5lUHJvcGVydHkodGhpcywgJ19fa2luZF9fJywgZCgnJywga2luZCkpO1xufTtcbmlmIChzZXRQcm90b3R5cGVPZikgc2V0UHJvdG90eXBlT2YoQXJyYXlJdGVyYXRvciwgSXRlcmF0b3IpO1xuXG5BcnJheUl0ZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3IucHJvdG90eXBlLCB7XG5cdGNvbnN0cnVjdG9yOiBkKEFycmF5SXRlcmF0b3IpLFxuXHRfcmVzb2x2ZTogZChmdW5jdGlvbiAoaSkge1xuXHRcdGlmICh0aGlzLl9fa2luZF9fID09PSAndmFsdWUnKSByZXR1cm4gdGhpcy5fX2xpc3RfX1tpXTtcblx0XHRpZiAodGhpcy5fX2tpbmRfXyA9PT0gJ2tleSt2YWx1ZScpIHJldHVybiBbaSwgdGhpcy5fX2xpc3RfX1tpXV07XG5cdFx0cmV0dXJuIGk7XG5cdH0pLFxuXHR0b1N0cmluZzogZChmdW5jdGlvbiAoKSB7IHJldHVybiAnW29iamVjdCBBcnJheSBJdGVyYXRvcl0nOyB9KVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJ2VzNS1leHQvZnVuY3Rpb24vaXMtYXJndW1lbnRzJylcbiAgLCBjYWxsYWJsZSAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3ZhbGlkLWNhbGxhYmxlJylcbiAgLCBpc1N0cmluZyAgICA9IHJlcXVpcmUoJ2VzNS1leHQvc3RyaW5nL2lzLXN0cmluZycpXG4gICwgZ2V0ICAgICAgICAgPSByZXF1aXJlKCcuL2dldCcpXG5cbiAgLCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSwgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsXG4gICwgc29tZSA9IEFycmF5LnByb3RvdHlwZS5zb21lO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYWJsZSwgY2IvKiwgdGhpc0FyZyovKSB7XG5cdHZhciBtb2RlLCB0aGlzQXJnID0gYXJndW1lbnRzWzJdLCByZXN1bHQsIGRvQnJlYWssIGJyb2tlbiwgaSwgbCwgY2hhciwgY29kZTtcblx0aWYgKGlzQXJyYXkoaXRlcmFibGUpIHx8IGlzQXJndW1lbnRzKGl0ZXJhYmxlKSkgbW9kZSA9ICdhcnJheSc7XG5cdGVsc2UgaWYgKGlzU3RyaW5nKGl0ZXJhYmxlKSkgbW9kZSA9ICdzdHJpbmcnO1xuXHRlbHNlIGl0ZXJhYmxlID0gZ2V0KGl0ZXJhYmxlKTtcblxuXHRjYWxsYWJsZShjYik7XG5cdGRvQnJlYWsgPSBmdW5jdGlvbiAoKSB7IGJyb2tlbiA9IHRydWU7IH07XG5cdGlmIChtb2RlID09PSAnYXJyYXknKSB7XG5cdFx0c29tZS5jYWxsKGl0ZXJhYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdGNhbGwuY2FsbChjYiwgdGhpc0FyZywgdmFsdWUsIGRvQnJlYWspO1xuXHRcdFx0aWYgKGJyb2tlbikgcmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGlmIChtb2RlID09PSAnc3RyaW5nJykge1xuXHRcdGwgPSBpdGVyYWJsZS5sZW5ndGg7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGw7ICsraSkge1xuXHRcdFx0Y2hhciA9IGl0ZXJhYmxlW2ldO1xuXHRcdFx0aWYgKChpICsgMSkgPCBsKSB7XG5cdFx0XHRcdGNvZGUgPSBjaGFyLmNoYXJDb2RlQXQoMCk7XG5cdFx0XHRcdGlmICgoY29kZSA+PSAweEQ4MDApICYmIChjb2RlIDw9IDB4REJGRikpIGNoYXIgKz0gaXRlcmFibGVbKytpXTtcblx0XHRcdH1cblx0XHRcdGNhbGwuY2FsbChjYiwgdGhpc0FyZywgY2hhciwgZG9CcmVhayk7XG5cdFx0XHRpZiAoYnJva2VuKSBicmVhaztcblx0XHR9XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHJlc3VsdCA9IGl0ZXJhYmxlLm5leHQoKTtcblxuXHR3aGlsZSAoIXJlc3VsdC5kb25lKSB7XG5cdFx0Y2FsbC5jYWxsKGNiLCB0aGlzQXJnLCByZXN1bHQudmFsdWUsIGRvQnJlYWspO1xuXHRcdGlmIChicm9rZW4pIHJldHVybjtcblx0XHRyZXN1bHQgPSBpdGVyYWJsZS5uZXh0KCk7XG5cdH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc0FyZ3VtZW50cyAgICA9IHJlcXVpcmUoJ2VzNS1leHQvZnVuY3Rpb24vaXMtYXJndW1lbnRzJylcbiAgLCBpc1N0cmluZyAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvc3RyaW5nL2lzLXN0cmluZycpXG4gICwgQXJyYXlJdGVyYXRvciAgPSByZXF1aXJlKCcuL2FycmF5JylcbiAgLCBTdHJpbmdJdGVyYXRvciA9IHJlcXVpcmUoJy4vc3RyaW5nJylcbiAgLCBpdGVyYWJsZSAgICAgICA9IHJlcXVpcmUoJy4vdmFsaWQtaXRlcmFibGUnKVxuICAsIGl0ZXJhdG9yU3ltYm9sID0gcmVxdWlyZSgnZXM2LXN5bWJvbCcpLml0ZXJhdG9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcblx0aWYgKHR5cGVvZiBpdGVyYWJsZShvYmopW2l0ZXJhdG9yU3ltYm9sXSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIG9ialtpdGVyYXRvclN5bWJvbF0oKTtcblx0aWYgKGlzQXJndW1lbnRzKG9iaikpIHJldHVybiBuZXcgQXJyYXlJdGVyYXRvcihvYmopO1xuXHRpZiAoaXNTdHJpbmcob2JqKSkgcmV0dXJuIG5ldyBTdHJpbmdJdGVyYXRvcihvYmopO1xuXHRyZXR1cm4gbmV3IEFycmF5SXRlcmF0b3Iob2JqKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjbGVhciAgICA9IHJlcXVpcmUoJ2VzNS1leHQvYXJyYXkvIy9jbGVhcicpXG4gICwgYXNzaWduICAgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC9hc3NpZ24nKVxuICAsIGNhbGxhYmxlID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvdmFsaWQtY2FsbGFibGUnKVxuICAsIHZhbHVlICAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvdmFsaWQtdmFsdWUnKVxuICAsIGQgICAgICAgID0gcmVxdWlyZSgnZCcpXG4gICwgYXV0b0JpbmQgPSByZXF1aXJlKCdkL2F1dG8tYmluZCcpXG4gICwgU3ltYm9sICAgPSByZXF1aXJlKCdlczYtc3ltYm9sJylcblxuICAsIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gICwgZGVmaW5lUHJvcGVydGllcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXG4gICwgSXRlcmF0b3I7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlcmF0b3IgPSBmdW5jdGlvbiAobGlzdCwgY29udGV4dCkge1xuXHRpZiAoISh0aGlzIGluc3RhbmNlb2YgSXRlcmF0b3IpKSByZXR1cm4gbmV3IEl0ZXJhdG9yKGxpc3QsIGNvbnRleHQpO1xuXHRkZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcblx0XHRfX2xpc3RfXzogZCgndycsIHZhbHVlKGxpc3QpKSxcblx0XHRfX2NvbnRleHRfXzogZCgndycsIGNvbnRleHQpLFxuXHRcdF9fbmV4dEluZGV4X186IGQoJ3cnLCAwKVxuXHR9KTtcblx0aWYgKCFjb250ZXh0KSByZXR1cm47XG5cdGNhbGxhYmxlKGNvbnRleHQub24pO1xuXHRjb250ZXh0Lm9uKCdfYWRkJywgdGhpcy5fb25BZGQpO1xuXHRjb250ZXh0Lm9uKCdfZGVsZXRlJywgdGhpcy5fb25EZWxldGUpO1xuXHRjb250ZXh0Lm9uKCdfY2xlYXInLCB0aGlzLl9vbkNsZWFyKTtcbn07XG5cbmRlZmluZVByb3BlcnRpZXMoSXRlcmF0b3IucHJvdG90eXBlLCBhc3NpZ24oe1xuXHRjb25zdHJ1Y3RvcjogZChJdGVyYXRvciksXG5cdF9uZXh0OiBkKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgaTtcblx0XHRpZiAoIXRoaXMuX19saXN0X18pIHJldHVybjtcblx0XHRpZiAodGhpcy5fX3JlZG9fXykge1xuXHRcdFx0aSA9IHRoaXMuX19yZWRvX18uc2hpZnQoKTtcblx0XHRcdGlmIChpICE9PSB1bmRlZmluZWQpIHJldHVybiBpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fX25leHRJbmRleF9fIDwgdGhpcy5fX2xpc3RfXy5sZW5ndGgpIHJldHVybiB0aGlzLl9fbmV4dEluZGV4X18rKztcblx0XHR0aGlzLl91bkJpbmQoKTtcblx0fSksXG5cdG5leHQ6IGQoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY3JlYXRlUmVzdWx0KHRoaXMuX25leHQoKSk7IH0pLFxuXHRfY3JlYXRlUmVzdWx0OiBkKGZ1bmN0aW9uIChpKSB7XG5cdFx0aWYgKGkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuXHRcdHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogdGhpcy5fcmVzb2x2ZShpKSB9O1xuXHR9KSxcblx0X3Jlc29sdmU6IGQoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIHRoaXMuX19saXN0X19baV07IH0pLFxuXHRfdW5CaW5kOiBkKGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9fbGlzdF9fID0gbnVsbDtcblx0XHRkZWxldGUgdGhpcy5fX3JlZG9fXztcblx0XHRpZiAoIXRoaXMuX19jb250ZXh0X18pIHJldHVybjtcblx0XHR0aGlzLl9fY29udGV4dF9fLm9mZignX2FkZCcsIHRoaXMuX29uQWRkKTtcblx0XHR0aGlzLl9fY29udGV4dF9fLm9mZignX2RlbGV0ZScsIHRoaXMuX29uRGVsZXRlKTtcblx0XHR0aGlzLl9fY29udGV4dF9fLm9mZignX2NsZWFyJywgdGhpcy5fb25DbGVhcik7XG5cdFx0dGhpcy5fX2NvbnRleHRfXyA9IG51bGw7XG5cdH0pLFxuXHR0b1N0cmluZzogZChmdW5jdGlvbiAoKSB7IHJldHVybiAnW29iamVjdCBJdGVyYXRvcl0nOyB9KVxufSwgYXV0b0JpbmQoe1xuXHRfb25BZGQ6IGQoZnVuY3Rpb24gKGluZGV4KSB7XG5cdFx0aWYgKGluZGV4ID49IHRoaXMuX19uZXh0SW5kZXhfXykgcmV0dXJuO1xuXHRcdCsrdGhpcy5fX25leHRJbmRleF9fO1xuXHRcdGlmICghdGhpcy5fX3JlZG9fXykge1xuXHRcdFx0ZGVmaW5lUHJvcGVydHkodGhpcywgJ19fcmVkb19fJywgZCgnYycsIFtpbmRleF0pKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5fX3JlZG9fXy5mb3JFYWNoKGZ1bmN0aW9uIChyZWRvLCBpKSB7XG5cdFx0XHRpZiAocmVkbyA+PSBpbmRleCkgdGhpcy5fX3JlZG9fX1tpXSA9ICsrcmVkbztcblx0XHR9LCB0aGlzKTtcblx0XHR0aGlzLl9fcmVkb19fLnB1c2goaW5kZXgpO1xuXHR9KSxcblx0X29uRGVsZXRlOiBkKGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdHZhciBpO1xuXHRcdGlmIChpbmRleCA+PSB0aGlzLl9fbmV4dEluZGV4X18pIHJldHVybjtcblx0XHQtLXRoaXMuX19uZXh0SW5kZXhfXztcblx0XHRpZiAoIXRoaXMuX19yZWRvX18pIHJldHVybjtcblx0XHRpID0gdGhpcy5fX3JlZG9fXy5pbmRleE9mKGluZGV4KTtcblx0XHRpZiAoaSAhPT0gLTEpIHRoaXMuX19yZWRvX18uc3BsaWNlKGksIDEpO1xuXHRcdHRoaXMuX19yZWRvX18uZm9yRWFjaChmdW5jdGlvbiAocmVkbywgaSkge1xuXHRcdFx0aWYgKHJlZG8gPiBpbmRleCkgdGhpcy5fX3JlZG9fX1tpXSA9IC0tcmVkbztcblx0XHR9LCB0aGlzKTtcblx0fSksXG5cdF9vbkNsZWFyOiBkKGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fX3JlZG9fXykgY2xlYXIuY2FsbCh0aGlzLl9fcmVkb19fKTtcblx0XHR0aGlzLl9fbmV4dEluZGV4X18gPSAwO1xuXHR9KVxufSkpKTtcblxuZGVmaW5lUHJvcGVydHkoSXRlcmF0b3IucHJvdG90eXBlLCBTeW1ib2wuaXRlcmF0b3IsIGQoZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKTtcbmRlZmluZVByb3BlcnR5KEl0ZXJhdG9yLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkKCcnLCAnSXRlcmF0b3InKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc0FyZ3VtZW50cyAgICA9IHJlcXVpcmUoJ2VzNS1leHQvZnVuY3Rpb24vaXMtYXJndW1lbnRzJylcbiAgLCBpc1N0cmluZyAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvc3RyaW5nL2lzLXN0cmluZycpXG4gICwgaXRlcmF0b3JTeW1ib2wgPSByZXF1aXJlKCdlczYtc3ltYm9sJykuaXRlcmF0b3JcblxuICAsIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoaXNBcnJheSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuXHRpZiAoaXNTdHJpbmcodmFsdWUpKSByZXR1cm4gdHJ1ZTtcblx0aWYgKGlzQXJndW1lbnRzKHZhbHVlKSkgcmV0dXJuIHRydWU7XG5cdHJldHVybiAodHlwZW9mIHZhbHVlW2l0ZXJhdG9yU3ltYm9sXSA9PT0gJ2Z1bmN0aW9uJyk7XG59O1xuIiwiLy8gVGhhbmtzIEBtYXRoaWFzYnluZW5zXG4vLyBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUjaXRlcmF0aW5nLW92ZXItc3ltYm9sc1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YnKVxuICAsIGQgICAgICAgICAgICAgID0gcmVxdWlyZSgnZCcpXG4gICwgSXRlcmF0b3IgICAgICAgPSByZXF1aXJlKCcuLycpXG5cbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAsIFN0cmluZ0l0ZXJhdG9yO1xuXG5TdHJpbmdJdGVyYXRvciA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0cikge1xuXHRpZiAoISh0aGlzIGluc3RhbmNlb2YgU3RyaW5nSXRlcmF0b3IpKSByZXR1cm4gbmV3IFN0cmluZ0l0ZXJhdG9yKHN0cik7XG5cdHN0ciA9IFN0cmluZyhzdHIpO1xuXHRJdGVyYXRvci5jYWxsKHRoaXMsIHN0cik7XG5cdGRlZmluZVByb3BlcnR5KHRoaXMsICdfX2xlbmd0aF9fJywgZCgnJywgc3RyLmxlbmd0aCkpO1xuXG59O1xuaWYgKHNldFByb3RvdHlwZU9mKSBzZXRQcm90b3R5cGVPZihTdHJpbmdJdGVyYXRvciwgSXRlcmF0b3IpO1xuXG5TdHJpbmdJdGVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yLnByb3RvdHlwZSwge1xuXHRjb25zdHJ1Y3RvcjogZChTdHJpbmdJdGVyYXRvciksXG5cdF9uZXh0OiBkKGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX19saXN0X18pIHJldHVybjtcblx0XHRpZiAodGhpcy5fX25leHRJbmRleF9fIDwgdGhpcy5fX2xlbmd0aF9fKSByZXR1cm4gdGhpcy5fX25leHRJbmRleF9fKys7XG5cdFx0dGhpcy5fdW5CaW5kKCk7XG5cdH0pLFxuXHRfcmVzb2x2ZTogZChmdW5jdGlvbiAoaSkge1xuXHRcdHZhciBjaGFyID0gdGhpcy5fX2xpc3RfX1tpXSwgY29kZTtcblx0XHRpZiAodGhpcy5fX25leHRJbmRleF9fID09PSB0aGlzLl9fbGVuZ3RoX18pIHJldHVybiBjaGFyO1xuXHRcdGNvZGUgPSBjaGFyLmNoYXJDb2RlQXQoMCk7XG5cdFx0aWYgKChjb2RlID49IDB4RDgwMCkgJiYgKGNvZGUgPD0gMHhEQkZGKSkgcmV0dXJuIGNoYXIgKyB0aGlzLl9fbGlzdF9fW3RoaXMuX19uZXh0SW5kZXhfXysrXTtcblx0XHRyZXR1cm4gY2hhcjtcblx0fSksXG5cdHRvU3RyaW5nOiBkKGZ1bmN0aW9uICgpIHsgcmV0dXJuICdbb2JqZWN0IFN0cmluZyBJdGVyYXRvcl0nOyB9KVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc0l0ZXJhYmxlID0gcmVxdWlyZSgnLi9pcy1pdGVyYWJsZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAoIWlzSXRlcmFibGUodmFsdWUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKHZhbHVlICsgXCIgaXMgbm90IGl0ZXJhYmxlXCIpO1xuXHRyZXR1cm4gdmFsdWU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vaXMtaW1wbGVtZW50ZWQnKSgpID8gU3ltYm9sIDogcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdmFsaWRUeXBlcyA9IHsgb2JqZWN0OiB0cnVlLCBzeW1ib2w6IHRydWUgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBzeW1ib2w7XG5cdGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdHN5bWJvbCA9IFN5bWJvbCgndGVzdCBzeW1ib2wnKTtcblx0dHJ5IHsgU3RyaW5nKHN5bWJvbCk7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gUmV0dXJuICd0cnVlJyBhbHNvIGZvciBwb2x5ZmlsbHNcblx0aWYgKCF2YWxpZFR5cGVzW3R5cGVvZiBTeW1ib2wuaXRlcmF0b3JdKSByZXR1cm4gZmFsc2U7XG5cdGlmICghdmFsaWRUeXBlc1t0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlXSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoIXZhbGlkVHlwZXNbdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZ10pIHJldHVybiBmYWxzZTtcblxuXHRyZXR1cm4gdHJ1ZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHgpIHtcblx0aWYgKCF4KSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2YgeCA9PT0gJ3N5bWJvbCcpIHJldHVybiB0cnVlO1xuXHRpZiAoIXguY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblx0aWYgKHguY29uc3RydWN0b3IubmFtZSAhPT0gJ1N5bWJvbCcpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuICh4W3guY29uc3RydWN0b3IudG9TdHJpbmdUYWddID09PSAnU3ltYm9sJyk7XG59O1xuIiwiLy8gRVMyMDE1IFN5bWJvbCBwb2x5ZmlsbCBmb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IChvciBwYXJ0aWFsbHkpIHN1cHBvcnQgaXRcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZCAgICAgICAgICAgICAgPSByZXF1aXJlKCdkJylcbiAgLCB2YWxpZGF0ZVN5bWJvbCA9IHJlcXVpcmUoJy4vdmFsaWRhdGUtc3ltYm9sJylcblxuICAsIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUsIGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllc1xuICAsIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBvYmpQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlXG4gICwgTmF0aXZlU3ltYm9sLCBTeW1ib2xQb2x5ZmlsbCwgSGlkZGVuU3ltYm9sLCBnbG9iYWxTeW1ib2xzID0gY3JlYXRlKG51bGwpXG4gICwgaXNOYXRpdmVTYWZlO1xuXG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHROYXRpdmVTeW1ib2wgPSBTeW1ib2w7XG5cdHRyeSB7XG5cdFx0U3RyaW5nKE5hdGl2ZVN5bWJvbCgpKTtcblx0XHRpc05hdGl2ZVNhZmUgPSB0cnVlO1xuXHR9IGNhdGNoIChpZ25vcmUpIHt9XG59XG5cbnZhciBnZW5lcmF0ZU5hbWUgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgY3JlYXRlZCA9IGNyZWF0ZShudWxsKTtcblx0cmV0dXJuIGZ1bmN0aW9uIChkZXNjKSB7XG5cdFx0dmFyIHBvc3RmaXggPSAwLCBuYW1lLCBpZTExQnVnV29ya2Fyb3VuZDtcblx0XHR3aGlsZSAoY3JlYXRlZFtkZXNjICsgKHBvc3RmaXggfHwgJycpXSkgKytwb3N0Zml4O1xuXHRcdGRlc2MgKz0gKHBvc3RmaXggfHwgJycpO1xuXHRcdGNyZWF0ZWRbZGVzY10gPSB0cnVlO1xuXHRcdG5hbWUgPSAnQEAnICsgZGVzYztcblx0XHRkZWZpbmVQcm9wZXJ0eShvYmpQcm90b3R5cGUsIG5hbWUsIGQuZ3MobnVsbCwgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHQvLyBGb3IgSUUxMSBpc3N1ZSBzZWU6XG5cdFx0XHQvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFja2RldGFpbC92aWV3LzE5Mjg1MDgvXG5cdFx0XHQvLyAgICBpZTExLWJyb2tlbi1nZXR0ZXJzLW9uLWRvbS1vYmplY3RzXG5cdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWtvby9lczYtc3ltYm9sL2lzc3Vlcy8xMlxuXHRcdFx0aWYgKGllMTFCdWdXb3JrYXJvdW5kKSByZXR1cm47XG5cdFx0XHRpZTExQnVnV29ya2Fyb3VuZCA9IHRydWU7XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eSh0aGlzLCBuYW1lLCBkKHZhbHVlKSk7XG5cdFx0XHRpZTExQnVnV29ya2Fyb3VuZCA9IGZhbHNlO1xuXHRcdH0pKTtcblx0XHRyZXR1cm4gbmFtZTtcblx0fTtcbn0oKSk7XG5cbi8vIEludGVybmFsIGNvbnN0cnVjdG9yIChub3Qgb25lIGV4cG9zZWQpIGZvciBjcmVhdGluZyBTeW1ib2wgaW5zdGFuY2VzLlxuLy8gVGhpcyBvbmUgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBgc29tZVN5bWJvbCBpbnN0YW5jZW9mIFN5bWJvbGAgYWx3YXlzIHJldHVybiBmYWxzZVxuSGlkZGVuU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKGRlc2NyaXB0aW9uKSB7XG5cdGlmICh0aGlzIGluc3RhbmNlb2YgSGlkZGVuU3ltYm9sKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcblx0cmV0dXJuIFN5bWJvbFBvbHlmaWxsKGRlc2NyaXB0aW9uKTtcbn07XG5cbi8vIEV4cG9zZWQgYFN5bWJvbGAgY29uc3RydWN0b3Jcbi8vIChyZXR1cm5zIGluc3RhbmNlcyBvZiBIaWRkZW5TeW1ib2wpXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbFBvbHlmaWxsID0gZnVuY3Rpb24gU3ltYm9sKGRlc2NyaXB0aW9uKSB7XG5cdHZhciBzeW1ib2w7XG5cdGlmICh0aGlzIGluc3RhbmNlb2YgU3ltYm9sKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcblx0aWYgKGlzTmF0aXZlU2FmZSkgcmV0dXJuIE5hdGl2ZVN5bWJvbChkZXNjcmlwdGlvbik7XG5cdHN5bWJvbCA9IGNyZWF0ZShIaWRkZW5TeW1ib2wucHJvdG90eXBlKTtcblx0ZGVzY3JpcHRpb24gPSAoZGVzY3JpcHRpb24gPT09IHVuZGVmaW5lZCA/ICcnIDogU3RyaW5nKGRlc2NyaXB0aW9uKSk7XG5cdHJldHVybiBkZWZpbmVQcm9wZXJ0aWVzKHN5bWJvbCwge1xuXHRcdF9fZGVzY3JpcHRpb25fXzogZCgnJywgZGVzY3JpcHRpb24pLFxuXHRcdF9fbmFtZV9fOiBkKCcnLCBnZW5lcmF0ZU5hbWUoZGVzY3JpcHRpb24pKVxuXHR9KTtcbn07XG5kZWZpbmVQcm9wZXJ0aWVzKFN5bWJvbFBvbHlmaWxsLCB7XG5cdGZvcjogZChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0aWYgKGdsb2JhbFN5bWJvbHNba2V5XSkgcmV0dXJuIGdsb2JhbFN5bWJvbHNba2V5XTtcblx0XHRyZXR1cm4gKGdsb2JhbFN5bWJvbHNba2V5XSA9IFN5bWJvbFBvbHlmaWxsKFN0cmluZyhrZXkpKSk7XG5cdH0pLFxuXHRrZXlGb3I6IGQoZnVuY3Rpb24gKHMpIHtcblx0XHR2YXIga2V5O1xuXHRcdHZhbGlkYXRlU3ltYm9sKHMpO1xuXHRcdGZvciAoa2V5IGluIGdsb2JhbFN5bWJvbHMpIGlmIChnbG9iYWxTeW1ib2xzW2tleV0gPT09IHMpIHJldHVybiBrZXk7XG5cdH0pLFxuXG5cdC8vIFRvIGVuc3VyZSBwcm9wZXIgaW50ZXJvcGVyYWJpbGl0eSB3aXRoIG90aGVyIG5hdGl2ZSBmdW5jdGlvbnMgKGUuZy4gQXJyYXkuZnJvbSlcblx0Ly8gZmFsbGJhY2sgdG8gZXZlbnR1YWwgbmF0aXZlIGltcGxlbWVudGF0aW9uIG9mIGdpdmVuIHN5bWJvbFxuXHRoYXNJbnN0YW5jZTogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuaGFzSW5zdGFuY2UpIHx8IFN5bWJvbFBvbHlmaWxsKCdoYXNJbnN0YW5jZScpKSxcblx0aXNDb25jYXRTcHJlYWRhYmxlOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUpIHx8XG5cdFx0U3ltYm9sUG9seWZpbGwoJ2lzQ29uY2F0U3ByZWFkYWJsZScpKSxcblx0aXRlcmF0b3I6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLml0ZXJhdG9yKSB8fCBTeW1ib2xQb2x5ZmlsbCgnaXRlcmF0b3InKSksXG5cdG1hdGNoOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5tYXRjaCkgfHwgU3ltYm9sUG9seWZpbGwoJ21hdGNoJykpLFxuXHRyZXBsYWNlOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5yZXBsYWNlKSB8fCBTeW1ib2xQb2x5ZmlsbCgncmVwbGFjZScpKSxcblx0c2VhcmNoOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5zZWFyY2gpIHx8IFN5bWJvbFBvbHlmaWxsKCdzZWFyY2gnKSksXG5cdHNwZWNpZXM6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnNwZWNpZXMpIHx8IFN5bWJvbFBvbHlmaWxsKCdzcGVjaWVzJykpLFxuXHRzcGxpdDogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuc3BsaXQpIHx8IFN5bWJvbFBvbHlmaWxsKCdzcGxpdCcpKSxcblx0dG9QcmltaXRpdmU6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnRvUHJpbWl0aXZlKSB8fCBTeW1ib2xQb2x5ZmlsbCgndG9QcmltaXRpdmUnKSksXG5cdHRvU3RyaW5nVGFnOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC50b1N0cmluZ1RhZykgfHwgU3ltYm9sUG9seWZpbGwoJ3RvU3RyaW5nVGFnJykpLFxuXHR1bnNjb3BhYmxlczogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wudW5zY29wYWJsZXMpIHx8IFN5bWJvbFBvbHlmaWxsKCd1bnNjb3BhYmxlcycpKVxufSk7XG5cbi8vIEludGVybmFsIHR3ZWFrcyBmb3IgcmVhbCBzeW1ib2wgcHJvZHVjZXJcbmRlZmluZVByb3BlcnRpZXMoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSwge1xuXHRjb25zdHJ1Y3RvcjogZChTeW1ib2xQb2x5ZmlsbCksXG5cdHRvU3RyaW5nOiBkKCcnLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9fbmFtZV9fOyB9KVxufSk7XG5cbi8vIFByb3BlciBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGV4cG9zZWQgb24gU3ltYm9sLnByb3RvdHlwZVxuLy8gVGhleSB3b24ndCBiZSBhY2Nlc3NpYmxlIG9uIHByb2R1Y2VkIHN5bWJvbCBpbnN0YW5jZXMgYXMgdGhleSBkZXJpdmUgZnJvbSBIaWRkZW5TeW1ib2wucHJvdG90eXBlXG5kZWZpbmVQcm9wZXJ0aWVzKFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZSwge1xuXHR0b1N0cmluZzogZChmdW5jdGlvbiAoKSB7IHJldHVybiAnU3ltYm9sICgnICsgdmFsaWRhdGVTeW1ib2wodGhpcykuX19kZXNjcmlwdGlvbl9fICsgJyknOyB9KSxcblx0dmFsdWVPZjogZChmdW5jdGlvbiAoKSB7IHJldHVybiB2YWxpZGF0ZVN5bWJvbCh0aGlzKTsgfSlcbn0pO1xuZGVmaW5lUHJvcGVydHkoU3ltYm9sUG9seWZpbGwucHJvdG90eXBlLCBTeW1ib2xQb2x5ZmlsbC50b1ByaW1pdGl2ZSwgZCgnJywgZnVuY3Rpb24gKCkge1xuXHR2YXIgc3ltYm9sID0gdmFsaWRhdGVTeW1ib2wodGhpcyk7XG5cdGlmICh0eXBlb2Ygc3ltYm9sID09PSAnc3ltYm9sJykgcmV0dXJuIHN5bWJvbDtcblx0cmV0dXJuIHN5bWJvbC50b1N0cmluZygpO1xufSkpO1xuZGVmaW5lUHJvcGVydHkoU3ltYm9sUG9seWZpbGwucHJvdG90eXBlLCBTeW1ib2xQb2x5ZmlsbC50b1N0cmluZ1RhZywgZCgnYycsICdTeW1ib2wnKSk7XG5cbi8vIFByb3BlciBpbXBsZW1lbnRhdG9uIG9mIHRvUHJpbWl0aXZlIGFuZCB0b1N0cmluZ1RhZyBmb3IgcmV0dXJuZWQgc3ltYm9sIGluc3RhbmNlc1xuZGVmaW5lUHJvcGVydHkoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9TdHJpbmdUYWcsXG5cdGQoJ2MnLCBTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGVbU3ltYm9sUG9seWZpbGwudG9TdHJpbmdUYWddKSk7XG5cbi8vIE5vdGU6IEl0J3MgaW1wb3J0YW50IHRvIGRlZmluZSBgdG9QcmltaXRpdmVgIGFzIGxhc3Qgb25lLCBhcyBzb21lIGltcGxlbWVudGF0aW9uc1xuLy8gaW1wbGVtZW50IGB0b1ByaW1pdGl2ZWAgbmF0aXZlbHkgd2l0aG91dCBpbXBsZW1lbnRpbmcgYHRvU3RyaW5nVGFnYCAob3Igb3RoZXIgc3BlY2lmaWVkIHN5bWJvbHMpXG4vLyBBbmQgdGhhdCBtYXkgaW52b2tlIGVycm9yIGluIGRlZmluaXRpb24gZmxvdzpcbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21lZGlrb28vZXM2LXN5bWJvbC9pc3N1ZXMvMTMjaXNzdWVjb21tZW50LTE2NDE0NjE0OVxuZGVmaW5lUHJvcGVydHkoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9QcmltaXRpdmUsXG5cdGQoJ2MnLCBTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGVbU3ltYm9sUG9seWZpbGwudG9QcmltaXRpdmVdKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXMtc3ltYm9sJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdGlmICghaXNTeW1ib2wodmFsdWUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKHZhbHVlICsgXCIgaXMgbm90IGEgc3ltYm9sXCIpO1xuXHRyZXR1cm4gdmFsdWU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vaXMtaW1wbGVtZW50ZWQnKSgpID8gV2Vha01hcCA6IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciB3ZWFrTWFwLCB4O1xuXHRpZiAodHlwZW9mIFdlYWtNYXAgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblx0dHJ5IHtcblx0XHQvLyBXZWJLaXQgZG9lc24ndCBzdXBwb3J0IGFyZ3VtZW50cyBhbmQgY3Jhc2hlc1xuXHRcdHdlYWtNYXAgPSBuZXcgV2Vha01hcChbW3ggPSB7fSwgJ29uZSddLCBbe30sICd0d28nXSwgW3t9LCAndGhyZWUnXV0pO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGlmIChTdHJpbmcod2Vha01hcCkgIT09ICdbb2JqZWN0IFdlYWtNYXBdJykgcmV0dXJuIGZhbHNlO1xuXHRpZiAodHlwZW9mIHdlYWtNYXAuc2V0ICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdGlmICh3ZWFrTWFwLnNldCh7fSwgMSkgIT09IHdlYWtNYXApIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiB3ZWFrTWFwLmRlbGV0ZSAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRpZiAodHlwZW9mIHdlYWtNYXAuaGFzICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdGlmICh3ZWFrTWFwLmdldCh4KSAhPT0gJ29uZScpIHJldHVybiBmYWxzZTtcblxuXHRyZXR1cm4gdHJ1ZTtcbn07XG4iLCIvLyBFeHBvcnRzIHRydWUgaWYgZW52aXJvbm1lbnQgcHJvdmlkZXMgbmF0aXZlIGBXZWFrTWFwYCBpbXBsZW1lbnRhdGlvbiwgd2hhdGV2ZXIgdGhhdCBpcy5cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoKSB7XG5cdGlmICh0eXBlb2YgV2Vha01hcCAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgV2Vha01hcCgpKSA9PT0gJ1tvYmplY3QgV2Vha01hcF0nKTtcbn0oKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzZXRQcm90b3R5cGVPZiAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YnKVxuICAsIG9iamVjdCAgICAgICAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvdmFsaWQtb2JqZWN0JylcbiAgLCB2YWx1ZSAgICAgICAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3ZhbGlkLXZhbHVlJylcbiAgLCByYW5kb21VbmlxICAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvc3RyaW5nL3JhbmRvbS11bmlxJylcbiAgLCBkICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJ2QnKVxuICAsIGdldEl0ZXJhdG9yICAgICAgID0gcmVxdWlyZSgnZXM2LWl0ZXJhdG9yL2dldCcpXG4gICwgZm9yT2YgICAgICAgICAgICAgPSByZXF1aXJlKCdlczYtaXRlcmF0b3IvZm9yLW9mJylcbiAgLCB0b1N0cmluZ1RhZ1N5bWJvbCA9IHJlcXVpcmUoJ2VzNi1zeW1ib2wnKS50b1N0cmluZ1RhZ1xuICAsIGlzTmF0aXZlICAgICAgICAgID0gcmVxdWlyZSgnLi9pcy1uYXRpdmUtaW1wbGVtZW50ZWQnKVxuXG4gICwgaXNBcnJheSA9IEFycmF5LmlzQXJyYXksIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gICwgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LCBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZlxuICAsIFdlYWtNYXBQb2x5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYWtNYXBQb2x5ID0gZnVuY3Rpb24gKC8qaXRlcmFibGUqLykge1xuXHR2YXIgaXRlcmFibGUgPSBhcmd1bWVudHNbMF0sIHNlbGY7XG5cdGlmICghKHRoaXMgaW5zdGFuY2VvZiBXZWFrTWFwUG9seSkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvbnN0cnVjdG9yIHJlcXVpcmVzIFxcJ25ld1xcJycpO1xuXHRpZiAoaXNOYXRpdmUgJiYgc2V0UHJvdG90eXBlT2YgJiYgKFdlYWtNYXAgIT09IFdlYWtNYXBQb2x5KSkge1xuXHRcdHNlbGYgPSBzZXRQcm90b3R5cGVPZihuZXcgV2Vha01hcCgpLCBnZXRQcm90b3R5cGVPZih0aGlzKSk7XG5cdH0gZWxzZSB7XG5cdFx0c2VsZiA9IHRoaXM7XG5cdH1cblx0aWYgKGl0ZXJhYmxlICE9IG51bGwpIHtcblx0XHRpZiAoIWlzQXJyYXkoaXRlcmFibGUpKSBpdGVyYWJsZSA9IGdldEl0ZXJhdG9yKGl0ZXJhYmxlKTtcblx0fVxuXHRkZWZpbmVQcm9wZXJ0eShzZWxmLCAnX193ZWFrTWFwRGF0YV9fJywgZCgnYycsICckd2Vha01hcCQnICsgcmFuZG9tVW5pcSgpKSk7XG5cdGlmICghaXRlcmFibGUpIHJldHVybiBzZWxmO1xuXHRmb3JPZihpdGVyYWJsZSwgZnVuY3Rpb24gKHZhbCkge1xuXHRcdHZhbHVlKHZhbCk7XG5cdFx0c2VsZi5zZXQodmFsWzBdLCB2YWxbMV0pO1xuXHR9KTtcblx0cmV0dXJuIHNlbGY7XG59O1xuXG5pZiAoaXNOYXRpdmUpIHtcblx0aWYgKHNldFByb3RvdHlwZU9mKSBzZXRQcm90b3R5cGVPZihXZWFrTWFwUG9seSwgV2Vha01hcCk7XG5cdFdlYWtNYXBQb2x5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV2Vha01hcC5wcm90b3R5cGUsIHtcblx0XHRjb25zdHJ1Y3RvcjogZChXZWFrTWFwUG9seSlcblx0fSk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdlYWtNYXBQb2x5LnByb3RvdHlwZSwge1xuXHRkZWxldGU6IGQoZnVuY3Rpb24gKGtleSkge1xuXHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdChrZXkpLCB0aGlzLl9fd2Vha01hcERhdGFfXykpIHtcblx0XHRcdGRlbGV0ZSBrZXlbdGhpcy5fX3dlYWtNYXBEYXRhX19dO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSksXG5cdGdldDogZChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0KGtleSksIHRoaXMuX193ZWFrTWFwRGF0YV9fKSkge1xuXHRcdFx0cmV0dXJuIGtleVt0aGlzLl9fd2Vha01hcERhdGFfX107XG5cdFx0fVxuXHR9KSxcblx0aGFzOiBkKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRyZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3Qoa2V5KSwgdGhpcy5fX3dlYWtNYXBEYXRhX18pO1xuXHR9KSxcblx0c2V0OiBkKGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cdFx0ZGVmaW5lUHJvcGVydHkob2JqZWN0KGtleSksIHRoaXMuX193ZWFrTWFwRGF0YV9fLCBkKCdjJywgdmFsdWUpKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSksXG5cdHRvU3RyaW5nOiBkKGZ1bmN0aW9uICgpIHsgcmV0dXJuICdbb2JqZWN0IFdlYWtNYXBdJzsgfSlcbn0pO1xuZGVmaW5lUHJvcGVydHkoV2Vha01hcFBvbHkucHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgZCgnYycsICdXZWFrTWFwJykpO1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIi8qXHJcbiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIHwgRHJvcHMgYmFzZSBmaWVsZFxyXG4gfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiB8XHJcbiB8XHJcbiB8XHJcbiAqL1xyXG5cclxuaW1wb3J0IGFzc2lnbiBmcm9tIFwib2JqZWN0LWFzc2lnblwiO1xyXG5pbXBvcnQgKiBhcyBzeW1ib2xzIGZyb20gXCIuL3N5bWJvbHNcIjtcclxuaW1wb3J0IHtsaXN0ZW5PbmNlfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmllbGQge1xyXG5cclxuICAgIC8qXHJcbiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgIEluaXRpYWxpemVyc1xyXG4gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqL1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuaW5wdXQgPSBpbnB1dDtcclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZVxyXG4gICAgICAgIHRoaXNbc3ltYm9scy5pbml0aWFsaXplT3B0aW9uc10ob3B0aW9ucyk7XHJcbiAgICAgICAgdGhpc1tzeW1ib2xzLmluaXRpYWxpemVWaWV3XSgpO1xyXG4gICAgICAgIHRoaXNbc3ltYm9scy5pbml0aWFsaXplU3RhdGVdKCk7XHJcbiAgICAgICAgdGhpc1tzeW1ib2xzLmluaXRpYWxpemVFdmVudHNdKCk7XHJcbiAgICB9XHJcblxyXG4gICAgW3N5bWJvbHMuaW5pdGlhbGl6ZU9wdGlvbnNdKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy5lbGVtZW50cy5pbnB1dC5wbGFjZWhvbGRlciB8fCBcIlwiLFxyXG5cclxuICAgICAgICAgICAgZ2V0U2VsZWN0aW9uKGZpZWxkLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgZ2V0UGxhY2Vob2xkZXIoZmllbGQsIHBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBnZXRBcnJvdyhmaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgW3N5bWJvbHMuaW5pdGlhbGl6ZVZpZXddKCkge1xyXG4gICAgICAgIC8vIEhpZGUgaW5wdXQgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuaW5wdXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFdyYXBwZXJcclxuICAgICAgICAvL1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRzLndyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMud3JhcHBlci5jbGFzc05hbWUgPSBcImRyb3BzIFwiICsgdGhpcy5lbGVtZW50cy5pbnB1dC5jbGFzc05hbWU7XHJcblxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gSGVhZFxyXG4gICAgICAgIC8vXHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy5oZWFkLmNsYXNzTmFtZSA9IFwiZHJvcHMtaGVhZFwiO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLmhlYWQpO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmFycm93LmNsYXNzTmFtZSA9IFwiZHJvcHMtYXJyb3dcIjtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmFycm93LmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5nZXRBcnJvdyh0aGlzKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5hcnJvdyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRzLnBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLnBsYWNlaG9sZGVyLmNsYXNzTmFtZSA9IFwiZHJvcHMtcGxhY2Vob2xkZXJcIjtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLnBsYWNlaG9sZGVyLmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5nZXRQbGFjZWhvbGRlcih0aGlzLCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLnBsYWNlaG9sZGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy5zZWxlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuc2VsZWN0aW9uLmNsYXNzTmFtZSA9IFwiZHJvcHMtc2VsZWN0aW9uXCI7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy5oZWFkLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudHMuc2VsZWN0aW9uKTtcclxuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBCb2R5XHJcbiAgICAgICAgLy9cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy5ib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmJvZHkuY2xhc3NOYW1lID0gXCJkcm9wcy1ib2R5XCI7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudHMuYm9keSk7XHJcblxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gUHVzaCBpbnB1dCB2YWx1ZXMgdG8gdGhlIHZpZXcgXHJcbiAgICAgICAgLy9cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMuaW5wdXQuZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBcHBlbmQgdmlld1xyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLmlucHV0Lm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuaW5wdXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50cy53cmFwcGVyLCB0aGlzLmVsZW1lbnRzLmlucHV0Lm5leHRTaWJsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuaW5wdXQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLndyYXBwZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBbc3ltYm9scy5pbml0aWFsaXplU3RhdGVdKCkge1xyXG4gICAgICAgIHRoaXNbc3ltYm9scy5zZXRTZWxlY3Rpb25dKHRoaXMuZ2V0KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIFtzeW1ib2xzLmluaXRpYWxpemVFdmVudHNdKCkge1xyXG5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIENsaWNrIG9uIHBsYWNlaG9sZGVyXHJcbiAgICAgICAgLy9cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy5oZWFkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gQ2xpY2sgb3V0c2lkZSAob24gd2luZG93KVxyXG4gICAgICAgIC8vXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKCh0aGlzLmVsZW1lbnRzLndyYXBwZXIgIT0gZS50YXJnZXQpICYmICF0aGlzLmVsZW1lbnRzLndyYXBwZXIuY29udGFpbnMoZS50YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgT3Blbi9DbG9zZWQgc3RhdGVcclxuICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgKi9cclxuXHJcbiAgICBnZXQgb3BlbmVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLndyYXBwZXIuY2xhc3NOYW1lLmluZGV4T2YoXCJkcm9wcy1vcGVuXCIpID4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNsb3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMub3BlbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oc2lsZW50ID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAodGhpcy5vcGVuZWQgfHwgdGhpcy5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudHMud3JhcHBlci5jbGFzc05hbWUgKz0gXCIgZHJvcHMtb3BlblwiO1xyXG5cclxuICAgICAgICAvLyBUcmlnZ2VyXHJcbiAgICAgICAgaWYgKHNpbGVudCA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJvcGVuXCIsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gVHJpZ2dlciBvcGVuZWQgb24gdHJhbnNpdGlvbiBlbmRcclxuICAgICAgICAgICAgbGlzdGVuT25jZSh0aGlzLmVsZW1lbnRzLmJvZHksIFwidHJhbnNpdGlvbmVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJvcGVuZWRcIiwgdGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2Uoc2lsZW50ID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAodGhpcy5jbG9zZWQgfHwgdGhpcy5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBjbGFzc0xpc3QgPSB0aGlzLmVsZW1lbnRzLndyYXBwZXIuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKSxcclxuICAgICAgICAgICAgY2xhc3NJbmRleCA9IGNsYXNzTGlzdC5pbmRleE9mKFwiZHJvcHMtb3BlblwiKTtcclxuXHJcbiAgICAgICAgY2xhc3NMaXN0LnNwbGljZShjbGFzc0luZGV4LCAxKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLndyYXBwZXIuY2xhc3NOYW1lID0gY2xhc3NMaXN0LmpvaW4oXCIgXCIpO1xyXG5cclxuICAgICAgICAvLyBUcmlnZ2VyXHJcbiAgICAgICAgaWYgKHNpbGVudCA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJjbG9zZVwiLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgY2xvc2VkIG9uIHRyYW5zaXRpb24gZW5kXHJcbiAgICAgICAgICAgIGxpc3Rlbk9uY2UodGhpcy5lbGVtZW50cy5ib2R5LCBcInRyYW5zaXRpb25lbmRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwiY2xvc2VkXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcGVuZWQgPyB0aGlzLmNsb3NlKCkgOiB0aGlzLm9wZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICBTZWxlY3Rpb24gc3RhdGVcclxuICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgKi9cclxuXHJcbiAgICBbc3ltYm9scy5zZXRTZWxlY3Rpb25dKHZhbHVlKSB7XHJcbiAgICAgICAgLy8gQ2xlYXJcclxuICAgICAgICBpZiAoKHZhbHVlID09IG51bGwpIHx8ICh2YWx1ZS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3N5bWJvbHMuY2xlYXJTZWxlY3Rpb25dKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXRcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLnNlbGVjdGlvbi5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbnMuZ2V0U2VsZWN0aW9uKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLndyYXBwZXIuY2xhc3NOYW1lICs9IFwiIGRyb3BzLWhhcy1zZWxlY3Rpb25cIjtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgW3N5bWJvbHMuY2xlYXJTZWxlY3Rpb25dKCkge1xyXG4gICAgICAgIHZhciBjbGFzc0xpc3QgPSB0aGlzLmVsZW1lbnRzLndyYXBwZXIuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKSxcclxuICAgICAgICAgICAgY2xhc3NJbmRleCA9IGNsYXNzTGlzdC5pbmRleE9mKFwiZHJvcHMtaGFzLXNlbGVjdGlvblwiKTtcclxuXHJcbiAgICAgICAgaWYgKGNsYXNzSW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3Quc3BsaWNlKGNsYXNzSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLndyYXBwZXIuY2xhc3NOYW1lID0gY2xhc3NMaXN0LmpvaW4oXCIgXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgRW5hYmxlL0Rpc2FibGVkIHN0YXRlXHJcbiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICovXHJcblxyXG4gICAgZ2V0IGRpc2FibGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLndyYXBwZXIuY2xhc3NOYW1lLmluZGV4T2YoXCJkcm9wcy1kaXNhYmxlZFwiKSA+IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlbmFibGVkKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5kaXNhYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGUoc2lsZW50ID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbWVudHMud3JhcHBlci5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLFxyXG4gICAgICAgICAgICBkaXNhYmxlZEluZGV4ID0gY2xhc3NMaXN0LmluZGV4T2YoXCJkcm9wcy1kaXNhYmxlZFwiKTtcclxuXHJcbiAgICAgICAgY2xhc3NMaXN0LnNwbGljZShkaXNhYmxlZEluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsYXNzTmFtZSA9IGNsYXNzTGlzdC5qb2luKFwiIFwiKTtcclxuXHJcbiAgICAgICAgLy8gVHJpZ2dlclxyXG4gICAgICAgIGlmIChzaWxlbnQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwiZW5hYmxlXCIsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZShzaWxlbnQgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsYXNzTmFtZSArPSBcIiBkcm9wcy1kaXNhYmxlZFwiO1xyXG5cclxuICAgICAgICBpZiAoc2lsZW50ID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcImRpc2FibGVcIiwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICBWYWx1ZSBtdXRhdG9yc1xyXG4gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqL1xyXG5cclxuICAgIFtzeW1ib2xzLmdldFZhbHVlXSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5pbnB1dC52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBbc3ltYm9scy5zZXRWYWx1ZV0odmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5nZXQoKSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy5pbnB1dC52YWx1ZSA9IHZhbHVlIHx8IFwiXCI7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzW3N5bWJvbHMuZ2V0VmFsdWVdKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0KHZhbHVlLCBzaWxlbnQgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh0aGlzW3N5bWJvbHMuc2V0VmFsdWVdKHZhbHVlKSkge1xyXG4gICAgICAgICAgICB0aGlzW3N5bWJvbHMuc2V0U2VsZWN0aW9uXSh0aGlzLmdldCgpKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc2lsZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJjaGFuZ2VcIiwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgIEV2ZW50c1xyXG4gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqL1xyXG5cclxuICAgIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgb2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdHJpZ2dlcihldmVudE5hbWUsIGRhdGEgPSB7fSkge1xyXG4gICAgICAgIHZhciBldmVudCA9IG5ldyBFdmVudChldmVudE5hbWUsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuaW5wdXQuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG59IiwiLypcclxuIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gfCBTZWxlY3QgZmllbGRcclxuIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gfFxyXG4gfFxyXG4gfFxyXG4gKi9cclxuXHJcbmltcG9ydCBhc3NpZ24gZnJvbSBcIm9iamVjdC1hc3NpZ25cIjtcclxuaW1wb3J0IEZpZWxkIGZyb20gXCIuL0ZpZWxkXCI7XHJcbmltcG9ydCAqIGFzIHN5bWJvbHMgZnJvbSBcIi4vc3ltYm9sc1wiO1xyXG5pbXBvcnQge2RlYm91bmNlfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgU3ltYm9sIGZyb20gXCJlczYtc3ltYm9sXCI7XHJcblxyXG4vLyBMb2NhbCBzeW1ib2xzXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3RGaWVsZCBleHRlbmRzIEZpZWxkIHtcclxuXHJcbiAgICAvKlxyXG4gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICBJbml0aWFsaXplcnNcclxuICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgKi9cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgaWYgKGlucHV0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwic2VsZWN0XCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNlbGVjdCBmaWVsZCBjYW4gb25seSBpbnN0YW50aWF0ZSBzZWxlY3QgZWxlbWVudHMhXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdXBlcihpbnB1dCwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgW3N5bWJvbHMuaW5pdGlhbGl6ZU9wdGlvbnNdKG9wdGlvbnMpIHtcclxuICAgICAgICBzdXBlcltzeW1ib2xzLmluaXRpYWxpemVPcHRpb25zXShvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHRoaXMub3B0aW9ucywge1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy5lbGVtZW50cy5pbnB1dC5kYXRhc2V0LnBsYWNlaG9sZGVyIHx8IFwiXCIsXHJcblxyXG4gICAgICAgICAgICAvLyBRdWVyeVxyXG4gICAgICAgICAgICBxdWVyeU9wdGlvbnM6IHRydWUsXHJcbiAgICAgICAgICAgIHF1ZXJ5UGxhY2Vob2xkZXI6IFwiRmlsdGVyIG9wdGlvbnMuLi5cIixcclxuICAgICAgICAgICAgcXVlcnlEZWJvdW5jZTogMjUwLFxyXG4gICAgICAgICAgICBxdWVyeShmaWVsZCwgb3B0aW9ucywgcXVlcnkpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZpbHRlciBieSBsYWJlbFxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5mb3JFYWNoKChvcHRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb24uc3R5bGUuZGlzcGxheSA9IG9wdGlvbi5kYXRhc2V0LmxhYmVsLmluZGV4T2YocXVlcnkpID09PSAwID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJibG9ja1wiIDogXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8vIFNlbGVjdGlvblxyXG4gICAgICAgICAgICBnZXRTZWxlY3Rpb24oZmllbGQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGZpZWxkLmdldE9wdGlvbkRhdGEodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEgPyBkYXRhLmxhYmVsIDogXCJcIjtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8vIE9wdGlvblxyXG4gICAgICAgICAgICBnZXRPcHRpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEubGFiZWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgW3N5bWJvbHMuaW5pdGlhbGl6ZVZpZXddKCkge1xyXG4gICAgICAgIHN1cGVyW3N5bWJvbHMuaW5pdGlhbGl6ZVZpZXddKCk7XHJcblxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gT3ZlcnJpZGVzXHJcbiAgICAgICAgLy9cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsYXNzTmFtZSArPSBcIiBkcm9wcy1zZWxlY3RcIjtcclxuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBPcHRpb25zIHF1ZXJ5XHJcbiAgICAgICAgLy9cclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5xdWVyeU9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5xdWVyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMucXVlcnkuY2xhc3NOYW1lID0gXCJkcm9wcy1xdWVyeVwiO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5xdWVyeSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnF1ZXJ5SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMucXVlcnlJbnB1dC50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMucXVlcnlJbnB1dC5wbGFjZWhvbGRlciA9IHRoaXMub3B0aW9ucy5xdWVyeVBsYWNlaG9sZGVyO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnF1ZXJ5LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudHMucXVlcnlJbnB1dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIE9wdGlvbnNcclxuICAgICAgICAvL1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRzLm9wdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMub3B0aW9ucy5jbGFzc05hbWUgPSBcImRyb3BzLW9wdGlvbnNcIjtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5vcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBbc3ltYm9scy5pbml0aWFsaXplU3RhdGVdKCkge1xyXG4gICAgICAgIHZhciBvcHRpb25zID0gW107XHJcblxyXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuZWxlbWVudHMuaW5wdXQub3B0aW9ucykuZm9yRWFjaCgob3B0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbi5pbm5lclRleHQsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogb3B0aW9uLnNlbGVjdGVkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucywgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgW3N5bWJvbHMuaW5pdGlhbGl6ZUV2ZW50c10oKSB7XHJcbiAgICAgICAgc3VwZXJbc3ltYm9scy5pbml0aWFsaXplRXZlbnRzXSgpO1xyXG5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIE9wdGlvbnMgY2xpY2sgZXZlbnRcclxuICAgICAgICAvL1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRzLm9wdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUuaW5kZXhPZihcImRyb3BzLW9wdGlvblwiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChlLnRhcmdldC5kYXRhc2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFF1ZXJ5IGlucHV0XHJcbiAgICAgICAgLy9cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMucXVlcnlJbnB1dCkge1xyXG5cclxuICAgICAgICAgICAgLy8gRmlsdGVyIG9uIGlucHV0XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMucXVlcnlJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZGVib3VuY2UodGhpcy5vcHRpb25zLnF1ZXJ5RGVib3VuY2UsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5xdWVyeShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMub3B0aW9ucy5xdWVyeVNlbGVjdG9yQWxsKFwiLmRyb3BzLW9wdGlvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnF1ZXJ5SW5wdXQudmFsdWVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZvY3VzIG9uIG9wZW5cclxuICAgICAgICAgICAgdGhpcy5vbihcIm9wZW5lZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnF1ZXJ5SW5wdXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgIE9wdGlvbiBtYW5hZ2VtZW50XHJcbiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICovXHJcblxyXG4gICAgZ2V0T3B0aW9uRGF0YSh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBvcHRpb24gPSB0aGlzLmVsZW1lbnRzLm9wdGlvbnMucXVlcnlTZWxlY3RvcihgLmRyb3BzLW9wdGlvbltkYXRhLXZhbHVlPScke3ZhbHVlfSddYCk7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbiA/IG9wdGlvbi5kYXRhc2V0IDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPcHRpb25zKG9wdGlvbnMsIHNpbGVudCA9IGZhbHNlKSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgc2VsZWN0aW9uXHJcbiAgICAgICAgdGhpcy5zZXQobnVsbCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIENsZWFyIGN1cnJlbnQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuaW5wdXQuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLm9wdGlvbnMuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcbiAgICAgICAgLy8gUHVzaCBwbGFjZWhvbGRlciBpbnB1dCBvcHRpb25cclxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICAgIHBsYWNlaG9sZGVyLnZhbHVlID0gXCJcIjtcclxuICAgICAgICBwbGFjZWhvbGRlci5pbm5lclRleHQgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy5pbnB1dC5hcHBlbmRDaGlsZChwbGFjZWhvbGRlcik7XHJcblxyXG4gICAgICAgIC8vIEJ1aWxkIG9wdGlvbnNcclxuICAgICAgICB2YXIgc2VsZWN0aW9uO1xyXG5cclxuICAgICAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvbkRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKCh0eXBlb2Ygb3B0aW9uRGF0YS52YWx1ZSAhPT0gXCJzdHJpbmdcIikgfHwgKG9wdGlvbkRhdGEudmFsdWUubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIW9wdGlvbkRhdGEubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbkRhdGEubGFiZWwgPSBvcHRpb25EYXRhLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgaW5wdXQgb3B0aW9uXHJcbiAgICAgICAgICAgIHZhciBpbnB1dE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgIGlucHV0T3B0aW9uLnZhbHVlID0gb3B0aW9uRGF0YS52YWx1ZTtcclxuICAgICAgICAgICAgaW5wdXRPcHRpb24uaW5uZXJUZXh0ID0gb3B0aW9uRGF0YS5sYWJlbDtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5pbnB1dC5hcHBlbmRDaGlsZChpbnB1dE9wdGlvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgb3B0aW9uXHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICBvcHRpb24uY2xhc3NOYW1lID0gXCJkcm9wcy1vcHRpb25cIjtcclxuICAgICAgICAgICAgb3B0aW9uLmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5nZXRPcHRpb24ob3B0aW9uRGF0YSk7XHJcblxyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25EYXRhKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5kYXRhc2V0W2tleV0gPSBvcHRpb25EYXRhW2tleV07XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5vcHRpb25zLmFwcGVuZENoaWxkKG9wdGlvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBTZWxlY3QgaWYgc2VsZWN0ZWRcclxuICAgICAgICAgICAgaWYgKG9wdGlvbkRhdGEuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbiA9IG9wdGlvbkRhdGEudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHNlbGVjdGlvblxyXG4gICAgICAgIHRoaXMuc2V0KHNlbGVjdGlvbiwgc2lsZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICBWYWx1ZVxyXG4gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqL1xyXG5cclxuICAgIFtzeW1ib2xzLnNldFZhbHVlXSh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldCgpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgb3B0aW9uXHJcbiAgICAgICAgdmFyIG9wdGlvbjtcclxuXHJcbiAgICAgICAgaWYgKCh2YWx1ZSAhPSBudWxsKSAmJiAodmFsdWUubGVuZ3RoID4gMCkpIHtcclxuICAgICAgICAgICAgb3B0aW9uID0gdGhpcy5lbGVtZW50cy5vcHRpb25zLnF1ZXJ5U2VsZWN0b3IoYC5kcm9wcy1vcHRpb25bZGF0YS12YWx1ZT0nJHt2YWx1ZX0nXWApO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFvcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2xlYXIgY3VycmVudCBzZWxlY3Rpb25cclxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuZWxlbWVudHMub3B0aW9ucy5xdWVyeVNlbGVjdG9yKFwiLmRyb3BzLW9wdGlvbi5kcm9wcy1zZWxlY3RlZFwiKTtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRDbGFzc2VzID0gY3VycmVudC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbmRleCA9IGN1cnJlbnRDbGFzc2VzLmluZGV4T2YoXCJkcm9wcy1zZWxlY3RlZFwiKTtcclxuXHJcbiAgICAgICAgICAgIGN1cnJlbnRDbGFzc2VzLnNwbGljZShzZWxlY3RlZEluZGV4LCAxKTtcclxuICAgICAgICAgICAgY3VycmVudC5jbGFzc05hbWUgPSBjdXJyZW50Q2xhc3Nlcy5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgY3VycmVudC5kYXRhc2V0LnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDbGVhciBpbnB1dCBzZWxlY3Rpb25cclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmlucHV0LnZhbHVlID0gXCJcIjtcclxuXHJcbiAgICAgICAgLy8gU2V0IG5ldyBzZWxlY3Rpb25cclxuICAgICAgICBpZiAob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5jbGFzc05hbWUgKz0gXCIgZHJvcHMtc2VsZWN0ZWRcIjtcclxuICAgICAgICAgICAgb3B0aW9uLmRhdGFzZXQuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmlucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbn0iLCIvKlxyXG4gfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiB8IERyb3BzXHJcbiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIHxcclxuIHxcclxuIHxcclxuICovXHJcblxyXG5pbXBvcnQgRmllbGQgZnJvbSBcIi4vRmllbGRcIjtcclxuaW1wb3J0IFNlbGVjdCBmcm9tIFwiLi9TZWxlY3RcIjtcclxuaW1wb3J0IHtjcmVhdGUsIHJlZ2lzdGVyLCBpbnN0YW5jZX0gZnJvbSBcIi4vbWFuYWdlclwiO1xyXG5pbXBvcnQgc3ltYm9scyBmcm9tIFwiLi9zeW1ib2xzXCI7XHJcblxyXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcclxuICAgIHZhciBkcm9wcyA9IGZhY3RvcnkoKTtcclxuXHJcbiAgICAvLyBDb21tb24gSlMgKHNpbmNlIHRoaXMgaXMgYnJvd3NlcmlmeSBpdCdzIGZhaXIgdG8gZXhwb3J0IGFsbCB0aGUgdGltZSlcclxuICAgIG1vZHVsZS5leHBvcnRzID0gZHJvcHM7XHJcblxyXG4gICAgLy8gQU1EXHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZHJvcHM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gV2luZG93XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByb290LmRyb3BzID0gZHJvcHM7XHJcbiAgICB9XHJcblxyXG59KSh3aW5kb3cgfHwgZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgLy8gUHVzaCBidW5kbGVkIGZpZWxkc1xyXG4gICAgcmVnaXN0ZXIoXCJzZWxlY3RcIiwgU2VsZWN0KTtcclxuXHJcbiAgICAvLyBFeHBvcnRcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgRmllbGQ6IEZpZWxkLFxyXG4gICAgICAgIFNlbGVjdDogU2VsZWN0LFxyXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlLFxyXG4gICAgICAgIHJlZ2lzdGVyOiByZWdpc3RlcixcclxuICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2UsXHJcbiAgICAgICAgc3ltYm9sczogc3ltYm9sc1xyXG4gICAgfTtcclxufSk7IiwiLypcclxuIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gfCBGaWVsZCBtYW5hZ2VyIChjcmVhdGUgYW5kIHJldHJpZXZlIGluc3RhbmNlcylcclxuIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gfFxyXG4gfFxyXG4gfFxyXG4gKi9cclxuXHJcbmltcG9ydCBXZWFrTWFwIGZyb20gXCJlczYtd2Vhay1tYXBcIjtcclxuXHJcbi8vXHJcbi8vIExvY2Fsc1xyXG4vL1xyXG5cclxudmFyIGluc3RhbmNlcyA9IG5ldyBXZWFrTWFwKCksXHJcbiAgICB0eXBlcyA9IHt9O1xyXG5cclxuLy9cclxuLy8gUmVnaXN0ZXIgYSBuZXcgdHlwZSBvZiBmaWVsZFxyXG4vL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKHR5cGVOYW1lLCB0eXBlQ2xhc3MpIHtcclxuICAgIHR5cGVzW3R5cGVOYW1lXSA9IHR5cGVDbGFzcztcclxufVxyXG5cclxuLy9cclxuLy8gQ3JlYXRlcyBhIG5ldyBmaWVsZCBpbnN0YW5jZVxyXG4vL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSh0eXBlLCBlbGVtZW50LCBvcHRpb25zID0ge30pIHtcclxuICAgIC8vIENoZWNrIGlmIGFscmVhZHkgYW4gaW5zdGFuY2VcclxuICAgIGlmIChpbnN0YW5jZXMuZ2V0KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBmaWVsZCBpbnN0YW5jZSBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgZWxlbWVudCFcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGNsYXNzXHJcbiAgICBpZiAoIXR5cGVzW3R5cGVdKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHR5cGUgY291bGQgbm90IGJlIGZvdW5kIVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGluc3RhbmNlID0gbmV3IHR5cGVzW3R5cGVdKGVsZW1lbnQsIG9wdGlvbnMpO1xyXG4gICAgaW5zdGFuY2VzLnNldChlbGVtZW50LCBpbnN0YW5jZSk7XHJcblxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcblxyXG4vL1xyXG4vLyBSZXRyaWV2ZXMgYW4gaW5zdGFuY2UgZm9yIGEgc3BlY2lmaWMgZWxlbWVudFxyXG4vL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbmNlKGVsZW1lbnQpIHtcclxuICAgIHJldHVybiBpbnN0YW5jZXMuZ2V0KGVsZW1lbnQpO1xyXG59XHJcbiIsIi8qXHJcbiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIHwgU3ltYm9scyB1c2VkIGluIHRoZSBmaWVsZCBjbGFzc1xyXG4gfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiB8XHJcbiB8XHJcbiB8XHJcbiAqL1xyXG5cclxuaW1wb3J0IFN5bWJvbCBmcm9tIFwiZXM2LXN5bWJvbFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVPcHRpb25zID0gU3ltYm9sKFwiaW5pdGlhbGl6ZU9wdGlvbnNcIik7XHJcbmV4cG9ydCBjb25zdCBpbml0aWFsaXplVmlldyA9IFN5bWJvbChcImluaXRpYWxpemVWaWV3XCIpO1xyXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZUV2ZW50cyA9IFN5bWJvbChcImluaXRpYWxpemVFdmVudHNcIik7XHJcbmV4cG9ydCBjb25zdCBpbml0aWFsaXplU3RhdGUgPSBTeW1ib2woXCJpbml0aWFsaXplU3RhdGVcIik7XHJcbmV4cG9ydCBjb25zdCBzZXRTZWxlY3Rpb24gPSBTeW1ib2woXCJzZXRTZWxlY3Rpb25cIik7XHJcbmV4cG9ydCBjb25zdCBjbGVhclNlbGVjdGlvbiA9IFN5bWJvbChcImNsZWFyU2VsZWN0aW9uXCIpO1xyXG5leHBvcnQgY29uc3Qgc2V0VmFsdWUgPSBTeW1ib2woXCJzZXRWYWx1ZVwiKTtcclxuZXhwb3J0IGNvbnN0IGdldFZhbHVlID0gU3ltYm9sKFwiZ2V0VmFsdWVcIik7IiwiLyoqXHJcbiAqIERlYm91bmNlcyBhIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7aW50fSB0aW1lb3V0XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UodGltZW91dCwgY2FsbGJhY2spIHtcclxuICAgIHZhciB0aW1lcjtcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG5cclxuICAgICAgICBpZiAodGltZXIpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgICAgdGltZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHJcbiAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgdHJpZ2dlcnMgb25jZSBvbiBhIHNwZWNpZmljIGVsZW1lbnRcclxuICpcclxuICogQHBhcmFtIGVsZW1lbnRcclxuICogQHBhcmFtIGV2ZW50TmFtZVxyXG4gKiBAcGFyYW0gY2FsbGJhY2tcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuT25jZShlbGVtZW50LCBldmVudE5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICBmdW5jdGlvbiBjYWxsYmFja1dyYXBwZXIoKSB7XHJcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2tXcmFwcGVyKTtcclxuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrV3JhcHBlcik7XHJcbn0iXX0="}